(this["webpackJsonpninthdesertdude-web-story"]=this["webpackJsonpninthdesertdude-web-story"]||[]).push([[0],{10:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return l})),r.d(e,"e",(function(){return c})),r.d(e,"f",(function(){return u})),r.d(e,"g",(function(){return h})),r.d(e,"h",(function(){return p})),r.d(e,"i",(function(){return d})),r.d(e,"j",(function(){return y})),r.d(e,"k",(function(){return f})),r.d(e,"l",(function(){return g})),r.d(e,"m",(function(){return S})),r.d(e,"n",(function(){return m})),r.d(e,"o",(function(){return b}));var n=r(8),i=r(3),o=function(){return{root:{alignSelf:"stretch"}}},s=function(t){return{root:{borderColor:t.semanticColors.menuDivider,borderRightStyle:"solid",borderWidth:"1px"}}},a=function(t,e){return{caretDownWrapper:Object(i.D)({alignSelf:"center",position:"relative",right:"20px",width:"0px"},null===e||void 0===e?void 0:e.caretDownWrapper),dropdown:Object(i.D)({display:"flex",height:"100%"},null===e||void 0===e?void 0:e.dropdown),dropdownItem:Object(i.D)(Object(n.a)({},t.fonts.large),null===e||void 0===e?void 0:e.dropdownItem),dropdownItemSelected:Object(i.D)(Object(n.a)({},t.fonts.large),null===e||void 0===e?void 0:e.dropdownItemSelected),root:Object(i.D)({alignSelf:"stretch"},null===e||void 0===e?void 0:e.root),title:Object(i.D)({height:"100%",border:"0",borderRadius:"unset",display:"flex",alignItems:"center"},null===e||void 0===e?void 0:e.title)}},l=function(t,e){return e?Object(i.D)(t.fonts.large,{paddingLeft:"12px",paddingRight:"12px",borderColor:t.semanticColors.menuDivider,borderRightStyle:"solid",borderWidth:"1px"}):Object(i.D)(t.fonts.large,{paddingLeft:"12px",paddingRight:"12px"})},c={root:{alignItems:"center",height:"4vh",padding:"0px"},primarySet:{alignSelf:"stretch"},secondarySet:{alignSelf:"stretch"}},u=function(t){return{backgroundColor:t.semanticColors.bodyStandoutBackground,borderStyle:"solid",borderWidth:"1px",boxSizing:"border-box",color:t.semanticColors.bodyText,height:"90vh",padding:"0.25vh 0.25vw 0.25vh 0.25vw",resize:"none",width:"100%"}},h="Calibri, Times New Roman, Courier New, sans-serif",p=Object(i.D)({display:"none"}),d={root:{marginRight:"8px"}},y=Object(i.D)({boxSizing:"border-box",height:"90vh",margin:"0 0.25vw 0 0",width:"49.75vw"}),f=function(t){return{borderColor:t.semanticColors.menuDivider,borderStyle:"solid",borderWidth:"1px",boxSizing:"border-box",height:"90vh",margin:"0 0 0 0.25vw",width:"49.75vw"}},g=Object(i.D)({display:"flex",alignItems:"stretch",margin:"4px"}),S=Object(i.D)({flexGrow:1,overflowY:"auto",paddingLeft:"0.5vw",paddingRight:"0.5vw",paddingTop:"0.5vw"}),m=Object(i.D)({display:"flex",flexDirection:"column",height:"90vh"}),b=function(t){return{root:[t.fonts.large,{margin:"2rem",padding:"2rem"}]}}},119:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return H}));var n,i=r(43),o=r(8),s=r(6),a=r(7),l=r(17),c=r(16),u=r(2),h=r(0),p=r(25),d=r(14),y=r(41),f=r(10),g=r(29),S=r(86),m=r(11),b=r(127),v=r(47),O=r(125),j=r(22),k=r(37),x=r(35),w=r(5),C=r(82),P=r(83),I=r(120),L=r(44),T=r(124),D=r(23),F=Number.MIN_SAFE_INTEGER,A=/\s+/gm,E=/^[0-9|a-f]+$/g,M=/[0-9]/g,R=/\\at|\\lb|\\rb|\\n|\\s/g,N=/\\at|\\n|\\s/g,z=new O.a,B=function(e){Object(l.a)(h,e);var r=Object(c.a)(h);function h(t){var e;return Object(s.a)(this,h),(e=r.call(this,t)).actions=[],e.content=[],e.contentCached=[],e.currentOptionStyles={},e.currentOptionHighlightStyles={},e.currentOutputStyles={},e.entries={},e.errorMessage="",e.fork="",e.log=[],e.logCached=[],e.options=[],e.optionsCached=[],e.stopEvaluation=!1,e.textboxHidden=!0,e.timers=[],e.variables={},e.variablesPrev={},e.getRestartLink=function(){var t=e.props;return e.addOption(t.authorStorySettings.authorStoryStrings.restartLinkText||t.strings.RunnerRestart,e.restartGame,p.h)},e.onTextboxKeyPress=function(t){13===t.charCode&&(e.actions.forEach((function(e){e(t.currentTarget.value)})),t.currentTarget.value="")},e.restartGame=function(){e.refreshInterpreter();var t=Object.keys(e.entries);e.setFork(t[0])},e.refreshInterpreter(),e}return Object(a.a)(h,[{key:"shouldComponentUpdate",value:function(t){var e=t;return n&&e.authorStorySettings.authorStoryRunnerOptions.randomSeed===n.seed||(n=new I.a(e.authorStorySettings.authorStoryRunnerOptions.randomSeed)),this.contentCached=this.content.map((function(t){return t(e)})),this.logCached=this.log.map((function(t){return t(e)})),this.optionsCached=this.options.map((function(t){return t(e)})),!0}},{key:"addInput",value:function(t,e){return function(r){var n=e?r.authorStorySettings.authorStoryStrings.inputOptionPrefixText||"\u2022 ":r.authorStorySettings.authorStoryStrings.inputTextboxPrefixText||"\u2192 ";return console.log(JSON.stringify(Object(L.b)(r.theme,r.debugging?{}:r.playerStorySettings.playerStoryInputStyles,{},r.authorStorySettings.authorStoryInputStyles,L.a.input))),Object(u.jsx)("p",{style:Object(L.b)(r.theme,r.debugging?{}:r.playerStorySettings.playerStoryInputStyles,{},r.authorStorySettings.authorStoryInputStyles,L.a.input),children:n+t},"".concat(p.d,"-").concat(F++))}}},{key:"addOption",value:function(t,e,r,n){var i=this,s=Object.assign({},this.currentOptionStyles),a=this.props,l="function"===typeof e?e:function(){a.authorStorySettings.authorStoryRunnerOptions.hideLog||a.authorStorySettings.authorStoryRunnerOptions.logLimit&&!(a.authorStorySettings.authorStoryRunnerOptions.logLimit>0)||i.content.push(i.addInput(t,!0)),i.setFork(e)};return function(e){var i=Object(L.b)(e.theme,e.debugging?{}:e.playerStorySettings.playerStoryOptionStyles,s,e.authorStorySettings.authorStoryOptionStyles,L.a.option),a=Object(L.b)(e.theme,e.debugging?{}:e.playerStorySettings.playerStoryOptionHighlightStyles,s,e.authorStorySettings.authorStoryOptionHighlightStyles,L.a.optionHighlight);return Object(u.jsx)(S.a,{onClick:l,styles:{root:Object(o.a)(Object(o.a)({},i),{},{border:"none",display:n?"inline":"block",fontSize:"16px",height:"unset",marginBottom:n?"0px":"4px",marginTop:n?"0px":"4px",paddingLeft:"0px",marginLeft:"0px"}),rootFocused:Object(o.a)({},a),rootHovered:Object(o.a)({},a),label:{marginLeft:"0px"}},text:t},r||"".concat(p.g,"-").concat(F++))}}},{key:"addOutput",value:function(t){var e=Object.assign({},this.currentOutputStyles);return function(r){var n=Object(L.b)(r.theme,r.debugging?{}:r.playerStorySettings.playerStoryOutputStyles,e,r.authorStorySettings.authorStoryOutputStyles,L.a.output);return Object(u.jsx)("span",{style:n,children:t},"".concat(p.j,"-").concat(F++))}}},{key:"loadFile",value:function(){}},{key:"loadFork",value:function(){var t;if(this.updateLog(),this.content=[],this.options=[],this.textboxHidden=!0,this.timers.forEach((function(t){clearTimeout(t)})),this.timers=[],this.actions=[],void 0!==(t=this.entries[this.fork])){this.variablesPrev={};for(var e=Object.keys(this.variables),r=0;r<e.length;r++)this.variablesPrev[e[r]]=this.variables[e[r]];this.preorderProcess(t,""),this.stopEvaluation||(this.visitFork(),this.refreshInterpreterGui())}else this.setErrorMessage("Interpreter: fork '"+this.fork+"' not found.")}},{key:"processHeaderOptions",value:function(t){var e=this.props;this.refreshInterpreter();for(var r=t.split("\n"),n=0;n<r.length;n++){for(var i=r[n],s=i.split(" "),a="",l=1;l<s.length;l++)a+=s[l]+" ";if(a=a.trim(),i.startsWith("link-style-text"))e.dispatchSetTempStoryRunnerOptions(Object(o.a)(Object(o.a)({},e.currentStorySettings.currentRunnerOptions),{},{discreteInlineLinks:!0}));else if(i.startsWith("option-default-disable"))e.dispatchSetTempStoryRunnerOptions(Object(o.a)(Object(o.a)({},e.currentStorySettings.currentRunnerOptions),{},{hideRestartLink:!0}));else if(i.startsWith("option-color")||i.startsWith("option-hover-color")||i.startsWith("background-color")){var c="";E.test(a)?6!==a.length&&3!==a.length?this.setErrorMessage("Interpreter: In the line '"+i+"', color must be given in hex format using 3 or 6 digits. For example, f00 or 8800f0."):3!==a.length&&6!==a.length||(c=a.substring(0,a.length)):this.setErrorMessage("Interpreter: In the line '"+i+"', color must be given in hex format. It can only include numbers 1-9 and upper or lowercase a-f."),i.startsWith("option-color")?(this.currentOptionStyles.colorDark=c,this.currentOptionStyles.colorLight=c):i.startsWith("option-color-light")?this.currentOptionStyles.colorLight=c:i.startsWith("option-color-dark")?this.currentOptionStyles.colorDark=c:i.startsWith("option-hover-color")?(this.currentOptionHighlightStyles.colorDark=c,this.currentOptionHighlightStyles.colorLight=c):i.startsWith("option-hover-color-light")?this.currentOptionHighlightStyles.colorLight=c:i.startsWith("option-hover-color-dark")?this.currentOptionHighlightStyles.colorDark=c:i.startsWith("background-color")?e.dispatchSetAuthorStoryRunnerStyles({background:Object(o.a)(Object(o.a)({},e.authorStorySettings.authorStoryRunnerStyles),{},{colorDark:c,colorLight:c,type:"plain"})}):i.startsWith("background-color-light")?e.dispatchSetAuthorStoryRunnerStyles({background:Object(o.a)(Object(o.a)({},e.authorStorySettings.authorStoryRunnerStyles),{},{colorLight:c,type:"plain"})}):i.startsWith("background-color-dark")&&e.dispatchSetAuthorStoryRunnerStyles({background:Object(o.a)(Object(o.a)({},e.authorStorySettings.authorStoryRunnerStyles),{},{colorDark:c,type:"plain"})})}else if(i.startsWith("output-font-size")||i.startsWith("option-font-size")){if(!v.a.test(a)){this.setErrorMessage("Interpreter: In line '"+i+"', a number must be specified after the option.");continue}var u=parseFloat(a);if(u<=0){this.setErrorMessage("Interpreter: In line '"+i+"', numbers must be greater than zero.");continue}i.startsWith("output-font-size")?this.currentOutputStyles.fontSize=u.toString():i.startsWith("option-font-size")&&(this.currentOptionStyles.fontSize=u.toString())}else i.startsWith("option-font")?this.currentOptionStyles.font="".concat(a,"; ").concat(f.g):i.startsWith("output-font")&&(this.currentOutputStyles.font="".concat(a,"; ").concat(f.g))}}},{key:"refreshInterpreterGui",value:function(){this.refreshInterpreterGuiStyles(),this.props.dispatchRerenderStory()}},{key:"render",value:function(){this.refreshInterpreterGuiStyles();var t=this.props,e=0!==this.options.length||t.authorStorySettings.authorStoryRunnerOptions.hideRestartLink?[]:[this.getRestartLink()],r=[Object(u.jsx)("div",{id:p.f,children:this.logCached},p.f),Object(u.jsx)("div",{id:p.c,children:this.contentCached},p.c),Object(u.jsxs)("div",{id:p.i,style:{marginTop:"24px"},children:[this.optionsCached,e]},p.i)],n=this.props.debugging&&""!==this.errorMessage?Object(u.jsx)(b.a,{messageBarType:m.a.error,children:this.errorMessage}):void 0,i=this.textboxHidden?void 0:Object(u.jsx)(T.a,{autoComplete:"nah",name:"textfield",id:p.e,onKeyPress:this.onTextboxKeyPress,type:"text"},p.e);return Object(u.jsxs)("div",{className:f.n,children:[Object(u.jsx)("div",{className:f.m,children:r}),n,i]})}},{key:"saveFile",value:function(){}},{key:"setEntries",value:function(t){this.entries=t}},{key:"setEntriesWithFork",value:function(t,e){this.content=[],this.log=[],this.options=[],this.entries=t,this.errorMessage="";var r=Object.keys(this.entries);0===r.length?this.setErrorMessage("Interpreter: cannot play story. It contains no forks. Use @ at the beginning of a line to denote an fork."):""!==e&&r.includes(e)?this.setFork(e):this.setFork(r[0])}},{key:"setErrorMessage",value:function(t){this.errorMessage=null!==t&&void 0!==t?t:"",this.refreshInterpreterGui()}},{key:"setFork",value:function(t){this.fork=t,this.stopEvaluation=!1,this.loadFork()}},{key:"escapeText",value:function(t,e){return e?t.replace(R,(function(t){switch(t){case"\\at":return"@";case"\\n":return"\n";case"\\s":return"\\";case"\\lb":return"{";case"\\rb":return"}"}return t})):t.replace(N,(function(t){switch(t){case"\\at":return"@";case"\\n":return"\n";case"\\s":return"\\"}return t}))}},{key:"preorderProcess",value:function(t,e){if(this.processIf(t,e)){this.processText(t);for(var r=0;r<t.children.length;r++){if(this.stopEvaluation)return;this.preorderProcess(t.children[r],e)}}}},{key:"processIf",value:function(e,r){var n=this,i=this.props;if(""===e.condition.trim())return!0;var o=e.condition.substring(2).trim(),s=o.split(" ");if(0===s.length)return this.setErrorMessage("The line if '"+o+"' is incorrectly formatted."),!1;if(s.length>1&&"timer"===s[0]&&"is"===s[1]){if(s.length<2)return this.setErrorMessage("The timer must be set with a time specified in seconds."),!1;if(!v.a.test(s[2]))return this.setErrorMessage("Interpreter: In line '"+o+"', the third word must be numeric."),!1;var a=parseFloat(s[2]);if(isNaN(a)||!isFinite(a))return this.setErrorMessage("Interpreter: In line '"+o+"', the time must be numeric and not too large."),!1;if(a<=0)return this.setErrorMessage("Interpreter: In line '"+o+"', the time must be positive and non-zero."),!1;var l=t.setTimeout((function(){n.processText(e);for(var t=0;t<e.children.length;t++)n.preorderProcess(e.children[t],r)}),1e3*a);return this.timers.push(l),!1}if(s.length>1&&"text"===s[0]&&("is"===s[1]||"!is"===s[1]||"has"===s[1]||"!has"===s[1]||"pick"===s[1])){this.textboxHidden=!1;for(var c="",u=2;u<s.length;u++)c+=s[u]+" ";if(""===(c=this.escapeText(c.toLowerCase().trim(),!0))&&this.setErrorMessage("Interpreter: In the line 'if "+o+"', at least one word to look for must be specified after 'pick'."),"pick"===s[1]){for(var h=c.split(","),p=0;p<h.length;p++)h[p]=h[p].replace("\\c",",").trim();if(""===r)this.actions.push((function(t){for(var r=!1,o=0;o<h.length;o++){new RegExp("\\b"+h[o]+"\\b").test(t.toLowerCase().trim())&&(r=!0)}if(r){i.authorStorySettings.authorStoryRunnerOptions.hideLog||i.authorStorySettings.authorStoryRunnerOptions.logLimit&&!(i.authorStorySettings.authorStoryRunnerOptions.logLimit>0)||n.content.push(n.addInput(t)),n.processText(e);for(var s=0;s<e.children.length;s++)n.preorderProcess(e.children[s],t);n.refreshInterpreterGui()}}));else{for(var d=!1,y=0;y<h.length;y++){new RegExp("\\b"+h[y]+"\\b").test(r.toLowerCase().trim())&&(d=!0)}if(!d)return!1;this.processText(e);for(var f=0;f<e.children.length;f++)this.preorderProcess(e.children[f],r)}}else if(s[1].endsWith("is")){if(""===r)this.actions.push((function(t){var r=t.toLowerCase().trim();if("is"===s[1]&&r===c||"!is"===s[1]&&r!==c){i.authorStorySettings.authorStoryRunnerOptions.hideLog||i.authorStorySettings.authorStoryRunnerOptions.logLimit&&!(i.authorStorySettings.authorStoryRunnerOptions.logLimit>0)||n.content.push(n.addInput(t)),n.processText(e);for(var o=0;o<e.children.length;o++)n.preorderProcess(e.children[o],t)}n.refreshInterpreterGui()}));else if("is"===s[1]&&r===c||"!is"===s[1]&&r!==c){this.processText(e);for(var g=0;g<e.children.length;g++)this.preorderProcess(e.children[g],r)}}else if(s[1].endsWith("has")){for(var S=c.split(","),m=0;m<S.length;m++)S[m]=S[m].replace("\\c",",").trim();if(""===r)this.actions.push((function(t){for(var r=0;r<S.length;r++){var o=new RegExp("\\b"+S[r]+"\\b").test(t.toLowerCase().trim());if("has"===s[1]&&!o||"!has"===s[1]&&o)return}i.authorStorySettings.authorStoryRunnerOptions.hideLog||i.authorStorySettings.authorStoryRunnerOptions.logLimit&&!(i.authorStorySettings.authorStoryRunnerOptions.logLimit>0)||n.content.push(n.addInput(t)),n.processText(e);for(var a=0;a<e.children.length;a++)n.preorderProcess(e.children[a],t);n.refreshInterpreterGui()}));else{for(var b=0;b<S.length;b++){var O=new RegExp("\\b"+S[b]+"\\b").test(r);if("has"===s[1]&&!O||"!has"===s[1]&&O)return!1}this.processText(e);for(var w=0;w<e.children.length;w++)this.preorderProcess(e.children[w],r)}}return!1}z.optIncludeUnknowns=!0,z.resetTokens();var C=Object.keys(this.variables),P=this.variables["visited"+this.fork];z.addIdentifier(new x.a("visited",P));for(var I=0;I<C.length;I++){var L=C[I],T=this.variables[C[I]];z.addIdentifier(new x.a(L,T))}z.addFunction(new k.a("exists",1,(function(t){return t[0]instanceof j.a?t[0]:new j.a(!(t[0]instanceof x.a))})));var D="";try{D=z.eval(s.join(" "))}catch(F){return F instanceof Error?this.setErrorMessage(F.message):this.setErrorMessage(F),!1}return"true"===D||"false"===D?"true"===D:(this.setErrorMessage("Interpreter: In the line 'if "+s.join(" ")+"', the expression must be boolean (true or false), but was null instead."),!1)}},{key:"processText",value:function(t){for(var e=this,r=t.text;r.length>0;){var i=r.indexOf("\n"),o=void 0,s=(o=i>=0?r.substring(0,i):r).split(" ");if(""===o.trim())r=r.substring(i+1);else if(o.includes("@@")){var a=o.substring(o.indexOf("@")+2).replace(A,"").toLowerCase(),l=this.escapeText(o.substring(0,o.indexOf("@")).trim(),!1);""===a?this.setErrorMessage("Interpreter: there was no fork name given to option '"+l+"'."):""===l.trim()?this.setErrorMessage("Interpreter: the option linking to '"+a+"' has no displayable text specified."):void 0===this.entries[a]?this.setErrorMessage("Interpreter: the fork in the option '"+l+"@"+a+"' doesn't exist."):this.content.push(this.addOption(l,a,void 0,!0)),r=r.substring(r.indexOf("\n")+1)}else if(o.includes("@")){var c=o.indexOf("@"),u=o.substring(c+1).replace(A,"").toLowerCase(),h=this.escapeText(o.substring(0,c).trim(),!1);""===u?this.setErrorMessage("Interpreter: there was no fork name given to option '"+h+"'."):""===h.trim()?this.setErrorMessage("Interpreter: the option linking to '"+u+"' has no displayable text specified."):this.options.push(this.addOption(h,u)),r=r.substring(r.indexOf("\n")+1)}else if(o.includes("{")){var p=r.indexOf("{"),d=r.indexOf("}"),y=r.substring(p,d+1);if(d<p){this.setErrorMessage("Interpreter: In the line '"+o+"', right braces should follow left braces. "),r=r.substring(r.indexOf("\n")+1);continue}y.includes("***}")?(this.currentOutputStyles.styleItalic=!0,this.currentOutputStyles.styleBold=!0):y.includes("**}")?(this.currentOutputStyles.styleBold=!0,this.currentOutputStyles.styleItalic=void 0):y.includes("*}")?(this.currentOutputStyles.styleBold=void 0,this.currentOutputStyles.styleItalic=!0):(this.currentOutputStyles.styleBold=void 0,this.currentOutputStyles.styleItalic=void 0),y=this.escapeText(y.replace("{","").replace("***}","").replace("**}","").replace("*}","").replace("}",""),!0),this.content.push(this.addOutput(y)),r=r.substring(0,p)+r.substring(d+1,r.length)}else if(r.startsWith("set")){z.optIncludeUnknowns=!1,z.resetTokens();for(var f=Object.keys(this.variables),g=0;g<f.length;g++){var S=f[g],m=this.variables[f[g]];("number"===typeof m||"boolean"===typeof m)&&z.addIdentifier(new x.a(S,m))}z.addFunction(new k.a("random",1,(function(t){if(t[0]instanceof w.a){var e=t[0];return new w.a(n.nextNumber()*e.value+1)}return null})));var b=s.indexOf("=");-1!==b?function(){var t=s.slice(1,b),r=s.slice(b+1),n="",i=null;if(1===t.length){try{n=z.eval(r.join(" "))}catch(a){a instanceof Error?e.setErrorMessage("Interpreter: In the line '"+o+"', "+a.message):e.setErrorMessage("Interpreter: In the line '"+o+", "+a)}"true"===n||"false"===n?i="true"===n:v.a.test(n)?i=parseFloat(n):e.setErrorMessage("Interpreter: In the line '"+o+"', the expression "+r.join(" ")+" should be a number, but "+n+" was computed instead."),f.includes(t[0])?e.variables[t[0]]=i:M.test(t[0][0])||z.getTokens().some((function(e){return e.strForm===t[0]}))?e.setErrorMessage("Interpreter: In the line '"+o+"', the variable '"+t[0]+"' is a name used for math or is a number."):e.variables[t[0]]=i}else e.setErrorMessage("Interpreter: In the line '"+o+", the phrase "+t.join(" ")+" must be a variable name without spaces.")}():function(){var t=s.slice(1),r="",n=null;if(t.length>0)if(1===t.length)if(t[0].startsWith("!")){var i=t[0].substring(1);f.includes(i)?e.variables[i]=!1:t.length>0&&M.test(t[0][0])||z.getTokens().some((function(t){return t.strForm===i}))?e.setErrorMessage("Interpreter: In the line '"+o+"', the variable '"+i+"' is a number or is used for math."):e.variables[i]=!1}else f.includes(t[0])?e.variables[t[0]]=!0:t.length>0&&M.test(t[0][0])||z.getTokens().some((function(e){return e.strForm===t[0]}))?e.setErrorMessage("Interpreter: In the line '"+o+"', the variable '"+t[0]+"' is a number or is used for math."):e.variables[t[0]]=!0;else if(f.includes(t[0])){try{r=z.eval(t.join(" "))}catch(a){a instanceof Error?e.setErrorMessage("Interpreter: In the line '"+o+"', "+a.message):e.setErrorMessage("Interpreter: In the line '"+o+"', "+a)}"true"===r||"false"===r?n="true"===r:v.a.test(r)?n=parseFloat(r):e.setErrorMessage("Interpreter: In the line '"+o+"', the expression "+t.join(" ")+" should be a number, but "+r+" was computed instead."),e.variables[t[0]]=n}else e.setErrorMessage("Interpreter: In the line '"+o+"', the variable "+t[0]+" doesn't exist yet.");else e.setErrorMessage("Interpreter: In the line '"+o+"', you need to provide a variable name to set, using syntax like set a, set !a, or a mathematical expression.")}(),r=i>=0?r.substring(r.indexOf("\n")+1):""}else if(r.startsWith("get"))2===s.length?void 0!==this.variables[s[1]]?this.content.push(this.addOutput(this.variables[s[1]].toString())):this.setErrorMessage("Interpreter: In the line '"+o+"', variable "+s[1]+" does not exist."):this.setErrorMessage("Interpreter: In the line '"+o+"', only one word can follow 'get'."),r=i>=0?r.substring(r.indexOf("\n")+1):"";else if(r.startsWith("goto")){var O=o.substring(4).replace(A,"").toLowerCase();if(void 0!==this.entries[O])return this.visitFork(),this.setFork(O),void(this.stopEvaluation=!0);this.setErrorMessage("Interpreter: In the line '"+r+"', cannot navigate to fork '"+O+"' because it does not exist."),r=i>=0?r.substring(r.indexOf("\n")+1):""}else if(r.startsWith("color")){var j=o.substring(5).trim().toLowerCase();E.test(j)?6!==j.length&&3!==j.length?this.setErrorMessage("Interpreter: In the line '"+o+"', color must be given in hex format using 3 or 6 digits. For example, f00 or 8800f0."):(this.currentOutputStyles.colorDark=j,this.currentOutputStyles.colorLight=j):this.setErrorMessage("Interpreter: In the line '"+o+"', color must be given in hex format. It can only include numbers 1-9 and upper or lowercase a-f."),r=i>=0?r.substring(r.indexOf("\n")+1):""}else this.setErrorMessage("Interpreter: In the line '"+o+"', unexpected symbols encountered. Ensure all output text is wrapped in single braces and there are no extra braces inside."),r=r.substring(r.indexOf("\n")+1)}}},{key:"refreshInterpreter",value:function(){this.actions=[],this.content=[],this.currentOptionStyles={},this.currentOptionHighlightStyles={},this.currentOutputStyles={},this.errorMessage="",this.fork="",this.log=[],this.options=[],this.timers=[],this.variables={},this.variablesPrev={},this.refreshInterpreterGuiStyles()}},{key:"refreshInterpreterGuiStyles",value:function(){var t=this.props,e=document.getElementById(p.k);e&&("plain"===t.playerStorySettings.playerStoryRunnerStyles.background.type?e.style.backgroundColor=t.theme.themeType===g.a.Light?t.playerStorySettings.playerStoryRunnerStyles.background.colorLight||t.theme.theme.semanticColors.bodyBackground:t.playerStorySettings.playerStoryRunnerStyles.background.colorDark||t.theme.theme.semanticColors.bodyBackground:"plain"===t.authorStorySettings.authorStoryRunnerStyles.background.type&&(e.style.backgroundColor=t.theme.themeType===g.a.Light?t.authorStorySettings.authorStoryRunnerStyles.background.colorLight||t.theme.theme.semanticColors.bodyBackground:t.authorStorySettings.authorStoryRunnerStyles.background.colorDark||t.theme.theme.semanticColors.bodyBackground))}},{key:"updateLog",value:function(){var t,e=this.props;e.authorStorySettings.authorStoryRunnerOptions.hideLog||0===e.authorStorySettings.authorStoryRunnerOptions.logLimit?this.log=[]:(t=this.log).push.apply(t,Object(i.a)(this.content))}},{key:"visitFork",value:function(){void 0===this.variables["visited"+this.fork]&&(this.variables["visited"+this.fork]=!0)}}]),h}(h.Component),H=Object(d.b)((function(t){return{authorStorySettings:t.authorStorySettings,currentStorySettings:t.currentRunnerSettings,playerStorySettings:t.playerStorySettings,renderTrigger:t.viewEdit.storyRerenderToken,strings:Object(D.a)(t.settings.locale),theme:t.settings.theme}}),(function(t){return{dispatchRerenderStory:Object(y.a)(t),dispatchSetAuthorStoryRunnerStyles:Object(P.b)(t),dispatchSetTempStoryRunnerOptions:Object(C.b)(t)}}),void 0,{forwardRef:!0})(B)}).call(this,r(73))},120:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(6),i=r(7),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(n.a)(this,t),this.mt=new Array(t.N),this.mti=t.N+1,this.seed=null,this.seed=null==e?(new Date).getTime():e,this.init_genrand(this.seed)}return Object(i.a)(t,[{key:"init_genrand",value:function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<t.N;this.mti++){var r=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&r)>>>16)<<16)+1812433253*(65535&r)+this.mti,this.mt[this.mti]>>>=0}}},{key:"_nextInt32",value:function(){var e,r=[0,t.MATRIX_A];if(this.mti>=t.N){var n;for(this.mti===t.N+1&&this.init_genrand(5489),n=0;n<t.N-t.M;n++)e=this.mt[n]&t.UPPER_MASK|this.mt[n+1]&t.LOWER_MASK,this.mt[n]=this.mt[n+t.M]^e>>>1^r[1&e];for(;n<t.N-1;n++)e=this.mt[n]&t.UPPER_MASK|this.mt[n+1]&t.LOWER_MASK,this.mt[n]=this.mt[n+(t.M-t.N)]^e>>>1^r[1&e];e=this.mt[t.N-1]&t.UPPER_MASK|this.mt[0]&t.LOWER_MASK,this.mt[t.N-1]=this.mt[t.M-1]^e>>>1^r[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0}},{key:"nextInt32",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this._nextInt32();return null==t?e:e%(t[1]-t[0])+t[0]}},{key:"nextInt31",value:function(){return this._nextInt32()>>>1}},{key:"nextNumber",value:function(){return this._nextInt32()*(1/4294967295)}},{key:"nextNumber53",value:function(){return(67108864*(this._nextInt32()>>>5)+(this._nextInt32()>>>6))*(1/9007199254740992)}}]),t}();o.N=624,o.M=397,o.MATRIX_A=2567483615,o.UPPER_MASK=2147483648,o.LOWER_MASK=2147483647},125:function(t,e,r){"use strict";r.d(e,"a",(function(){return g}));var n,i,o,s=r(43),a=r(6),l=r(7);(i=n||(n={}))[i.left=0]="left",i[i.right=1]="right",function(t){t[t.left=0]="left",t[t.right=1]="right",t[t.both=2]="both"}(o||(o={}));var c=r(22),u=r(37),h=r(35),p=r(5),d=function(){function t(e,r,n,i,s){Object(a.a)(this,t),this.strForm=void 0,this.placement=void 0,this.assoc=void 0,this.prec=void 0,this.numArgs=void 0,this.function=void 0,this.placement=e,this.assoc=r,this.prec=n,e===o.both?this.numArgs=2:this.numArgs=1,this.strForm=i,this.function=s}return Object(l.a)(t,[{key:"equals",value:function(t){return this.strForm===t.strForm&&this.placement===t.placement&&this.assoc===t.assoc&&this.prec===t.prec&&this.numArgs===t.numArgs&&this.function===t.function}}]),t}(),y=function(){function t(e){Object(a.a)(this,t),this.strForm=void 0,this.strForm=e}return Object(l.a)(t,[{key:"equals",value:function(t){return this.strForm===t.strForm}}]),t}(),f=r(47),g=function(){function t(){var e=this;Object(a.a)(this,t),this.optRequireRightPars=!1,this.optIncludeUnknowns=!0,this.optUnknownDefault=null,this.Fsin=new u.a("sin",1,(function(t){if(t[0]instanceof p.a){var e=t[0];return new p.a(Math.sin(e.value))}return null})),this.Fcos=new u.a("cos",1,(function(t){if(t[0]instanceof p.a){var e=t[0];return new p.a(Math.cos(e.value))}return null})),this.Ftan=new u.a("tan",1,(function(t){if(t[0]instanceof p.a){var e=t[0];return new p.a(Math.tan(e.value))}return null})),this.Frnd=new u.a("round",1,(function(t){if(t[0]instanceof p.a){var e=t[0];return new p.a(Math.round(e.value))}return null})),this.Frnd2=new u.a("round",2,(function(t){if(t[0]instanceof p.a&&t[1]instanceof p.a){var e=t[0],r=t[1];return new p.a(Math.round(e.value/r.value)*r.value)}return null})),this.Add=new d(o.both,n.left,6,"+",(function(t){if(t[0]instanceof p.a&&t[1]instanceof p.a){var e=t[0],r=t[1];return new p.a(e.value+r.value)}return null})),this.Sub=new d(o.both,n.left,6,"-",(function(t){if(t[0]instanceof p.a&&t[1]instanceof p.a){var e=t[0],r=t[1];return new p.a(e.value-r.value)}return null})),this.Mlt=new d(o.both,n.left,7,"*",(function(t){if(t[0]instanceof p.a&&t[1]instanceof p.a){var e=t[0],r=t[1];return new p.a(e.value*r.value)}return null})),this.Div=new d(o.both,n.left,7,"/",(function(t){if(t[0]instanceof p.a&&t[1]instanceof p.a){var e=t[0],r=t[1];if(0===r.value)throw new Error("Parser: The expression ".concat(e.strForm," / ").concat(r.strForm," causes division by zero."));return new p.a(e.value/r.value)}return null})),this.Mod=new d(o.both,n.left,7,"%",(function(t){if(t[0]instanceof p.a&&t[1]instanceof p.a){var e=t[0],r=t[1];if(0===r.value)throw new Error("Parser: The expression ".concat(e.strForm," % ").concat(r.strForm," causes division by zero."));return new p.a(e.value%r.value)}return null})),this.Neg=new d(o.right,n.right,8,"-",(function(t){if(t[1]instanceof p.a){var e=t[1];return new p.a(-e.value)}return null})),this.Exp=new d(o.both,n.right,8,"^",(function(t){if(t[0]instanceof p.a&&t[1]instanceof p.a){var e=t[0],r=t[1];return new p.a(Math.pow(e.value,r.value))}return null})),this.Fac=new d(o.left,n.left,9,"!",(function(t){if(t[0]instanceof p.a){for(var e=t[0],r=e.value,n=1;e.value>1;)n*=r--;return new p.a(n)}return null})),this.Eq=new d(o.both,n.left,4,"=",(function(t){if(t[0]instanceof p.a&&t[1]instanceof p.a){var e=t[0],r=t[1];return new c.a(e.value===r.value)}if(t[0]instanceof c.a&&t[1]instanceof c.a){var n=t[0],i=t[1];return new c.a(n.value===i.value)}return null})),this.NotEq=new d(o.both,n.left,4,"!=",(function(t){if(t[0]instanceof p.a&&t[1]instanceof p.a){var e=t[0],r=t[1];return new c.a(e.value!==r.value)}if(t[0]instanceof c.a&&t[1]instanceof c.a){var n=t[0],i=t[1];return new c.a(n.value!==i.value)}return null})),this.Gt=new d(o.both,n.left,5,">",(function(t){if(t[0]instanceof p.a&&t[1]instanceof p.a){var e=t[0],r=t[1];return new c.a(e.value>r.value)}return null})),this.Gte=new d(o.both,n.left,5,">=",(function(t){if(t[0]instanceof p.a&&t[1]instanceof p.a){var e=t[0],r=t[1];return new c.a(e.value>=r.value)}return null})),this.Lt=new d(o.both,n.left,5,"<",(function(t){if(t[0]instanceof p.a&&t[1]instanceof p.a){var e=t[0],r=t[1];return new c.a(e.value<r.value)}return null})),this.Lte=new d(o.both,n.left,5,"<=",(function(t){if(t[0]instanceof p.a&&t[1]instanceof p.a){var e=t[0],r=t[1];return new c.a(e.value<=r.value)}return null})),this.LogNot=new d(o.right,n.left,3,"!",(function(t){if(t[1]instanceof c.a){var e=t[1];return new c.a(!e.value)}return null})),this.LogAnd=new d(o.both,n.left,1,"&",(function(t){if(t[0]instanceof c.a&&t[1]instanceof c.a){var e=t[0],r=t[1];return new c.a(e.value&&r.value)}return null})),this.LogOr=new d(o.both,n.left,2,"|",(function(t){if(t[0]instanceof c.a&&t[1]instanceof c.a){var e=t[0],r=t[1];return new c.a(e.value||r.value)}return null})),this.varFalse=new h.a("false",!1),this.varTrue=new h.a("true",!0),this.varPi=new h.a("pi",Math.PI),this.lPar=new y("("),this.rPar=new y(")"),this.argSep=new y(","),this.tokens=[],this.evalNoPar=function(t,r){for(var i=e.tokens.filter((function(t){return t instanceof d})),a=[],l="",h=0;h<t.length;h++)l+=t[h].strForm;if(e.optRequireRightPars&&t[0]===e.lPar&&t[t.length-1]!==e.rPar)throw new Error("Parser: The expression '"+l+"' is missing a right parenthesis at the end.");if(t.filter((function(t){return t===e.lPar||t===e.rPar})),0===t.length)throw new Error("Parser: an empty parenthesis group was provided; there is nothing to process within it.");if(null!==r){var y=e.split(t,e.argSep),f=[];if(r.numArgs!==y.length)throw new Error("Parser: In expression '"+l+"', the number of arguments for "+r.strForm+" should be "+r.numArgs+", but "+y.length+" arguments were given.");for(var g=0;g<y.length;g++){var S=e.evalNoPar(y[g],null);if(!(S[0]instanceof p.a||S[0]instanceof c.a))throw new Error("Parser: In expression '"+l+"', a boolean argument was provided instead of a decimal value.");f[g]=S[0]}var m=r.function(f);if(null===m)throw new Error("Parser: In expression '"+l+"', arguments do not match parameter types used.");return a.push(m),a}t[0]===e.Sub&&(t[0]=e.Neg);for(var b=1;b<t.length;b++)(t[b]===e.Sub&&t[b-1]instanceof d&&(t[b-1].numArgs>1||t[b-1]===e.Neg)||t[b-1]instanceof u.a)&&(t[b]=e.Neg);var v=t.filter((function(t){return t instanceof d})),O=0;v.forEach((function(t){t.prec>O&&(O=t.prec)}));for(var j=function(){for(var e=i.some((function(t){return O===t.prec&&t.assoc===n.right})),r=e?t.length-1:0;e&&r>=0||!e&&r<t.length;){if(t[r]instanceof d&&t[r].prec===O){var s,a,c,u=t[r],h=[null!==(s=t[r-1])&&void 0!==s?s:null,null!==(a=t[r+1])&&void 0!==a?a:null];if(null===h[0]&&(u.placement===o.both||u.placement===o.left))throw new Error("Parser: In '"+l+"', the '"+t[r].strForm+"' operator is missing a lefthand operand.");if(null===h[1]&&(u.placement===o.both||u.placement===o.right))throw new Error("Parser: In '"+l+"', the '"+t[r].strForm+"' operator is missing a righthand operand.");if(null===(c=u.function(h)))throw new Error("In expression '"+l+"', operand type(s) do not match operator.");t[r]=c,u.placement===o.left?(t.splice(r-1,1),r+=e?0:-1):u.placement===o.right?(t.splice(r+1,1),r+=e?1:0):u.placement===o.both&&(t.splice(r+1,1),t.splice(r-1,1),r+=e?0:-1)}e?r--:r++}v=t.filter((function(t){return t instanceof d}));var p=0;v.forEach((function(t){t.prec>p&&(p=t.prec)}))};O>0;)j();return a.push.apply(a,Object(s.a)(t)),a},this.resetTokens()}return Object(l.a)(t,[{key:"addFunction",value:function(t){this.tokens.push(new u.a(t.strForm.toLowerCase(),t.numArgs,t.function)),this.tokens=this.tokens.sort((function(t,e){return t.strForm<e.strForm?1:-1}))}},{key:"addIdentifier",value:function(t){this.tokens.push(new h.a(t.strForm.toLowerCase(),t.value)),this.tokens=this.tokens.sort((function(t,e){return t.strForm<e.strForm?1:-1}))}},{key:"addOperator",value:function(t){this.tokens.push(new d(t.placement,t.assoc,t.prec,t.strForm.toLowerCase(),t.function)),this.tokens=this.tokens.sort((function(t,e){return t.strForm<e.strForm?1:-1}))}},{key:"eval",value:function(t){return this.evalTokens(this.tokenize(t))}},{key:"evalTokens",value:function(t){for(var e=this,r=0;r<t.length;r++)if(t[r]instanceof h.a){var n=t[r];if(null!==n.value)"number"===typeof n.value?t[r]=new p.a(n.value):"boolean"===typeof n.value&&(t[r]=new c.a(n.value));else{if(null===this.optUnknownDefault)throw new Error("Parser: The identifier '"+t[r].strForm+"' is unknown and can't be computed.");t[r]=this.optUnknownDefault}}for(var i=this.tokens.filter((function(t){return t instanceof u.a}));;){var o,a,l=t.indexOf(this.rPar)+1,d=l>=1?l:t.length,y=t.slice(0,d).lastIndexOf(this.lPar),f=y>=0?y:0,g=t.slice(0,f),S=t.slice(d,t.length),m=t.slice(f,d),b=null;if(g[g.length-1]instanceof u.a&&function(){var t,r=g[g.length-1];g.splice(g.length-1,1);var n=1;m.forEach((function(t){t===e.argSep&&n++})),b=null!==(t=i.find((function(t){return t.numArgs===n&&t.strForm===r.strForm})))&&void 0!==t?t:null}(),(o=t=g).push.apply(o,Object(s.a)(this.evalNoPar(m,b))),(a=t).push.apply(a,Object(s.a)(S)),0===g.length&&0===S.length){for(var v="",O=0;O<t.length;O++)v+=t[O].strForm;return v}}}},{key:"getTokens",value:function(){return this.tokens}},{key:"removeToken",value:function(t){for(var e=this.tokens.length;e>0;e--)if(t.equals(this.tokens[e]))return this.tokens.splice(e,1),!0;return!1}},{key:"resetTokens",value:function(){this.tokens=[this.Exp,this.Neg,this.Mod,this.Div,this.Mlt,this.Sub,this.Add,this.LogNot,this.LogOr,this.LogAnd,this.Eq,this.Gt,this.Gte,this.Lt,this.Lte,this.NotEq,this.Fsin,this.Fcos,this.Ftan,this.Frnd,this.Frnd2,this.varFalse,this.varTrue,this.varPi,this.lPar,this.rPar,this.argSep],this.tokens=this.tokens.sort((function(t,e){return t.strForm<e.strForm?1:-1}))}},{key:"split",value:function(t,e){for(var r=[],n=[],i=0;i<t.length;i++)t[i]===e?r.push([].concat(n)):n.push(t[i]);return n.length>0&&r.push(n),r}},{key:"tokenize",value:function(t){var e=[],r="";if(""===t.trim())throw new Error("Parser: No expression provided.");t=t.replace(/\s/gm,"").toLowerCase();for(var n=null,i=null,o=null,s=0;s<t.length;s++){var a,l;if(r+=t[s],n=this.tokens.filter((function(t){return t.strForm===r}))[0],s!==t.length-1&&(null===(a=n)||void 0===a?void 0:a.strForm.length)>r.length)(null===(l=i=this.tokens.filter((function(t){return t.strForm===r}))[0])||void 0===l?void 0:l.strForm)===r&&(o=i,s===t.length-1&&(e.push(i),r="",o=null));else if(null===n||s===t.length-1&&n.strForm.length!==r.length)if(null!==o)s-=r.length-o.strForm.length,e.push(o),r="",o=null;else if(f.a.test(r)){var c=parseFloat(r);s!==t.length-1&&f.a.test(r+t[s+1])||(e.push(new p.a(c)),r="")}else{if(!this.optIncludeUnknowns)throw new Error("Parser: token '"+r+"' is not a recognized symbol.");e.push(new h.a(r[0].toString(),null)),s-=r.length-1,r=""}else e.push(n),r="",o=null}for(var u=[],g="",S=0;S<e.length;S++){if(S===e.length-1||e[S+1]instanceof d||e[S+1]instanceof y){if(""!==g){if(g+=e[S].strForm,this.optIncludeUnknowns){u.push(new h.a(g,null)),g="";continue}throw new Error("Parser: token '"+g+"' is not a recognized symbol.")}}else if(!(e[S]instanceof d||e[S]instanceof y)&&(""!==g||!(e[S]instanceof p.a))){g+=e[S].strForm;continue}e[S]===this.Neg?u.push(this.Sub):u.push(e[S])}return u}}]),t}()},13:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=Number.MIN_SAFE_INTEGER,i=function(){return(++n).toString()}},147:function(t,e,r){},15:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return s})),r.d(e,"d",(function(){return a})),r.d(e,"e",(function(){return l}));var n=r(13),i={newStory:Object(n.a)(),rerenderStory:Object(n.a)(),saveAndRunStory:Object(n.a)(),updateStory:Object(n.a)()},o={type:i.newStory},s={type:i.rerenderStory},a=function(t){return{story:t,type:i.saveAndRunStory}},l=function(t){return{story:t,type:i.updateStory}}},154:function(t,e,r){"use strict";r.r(e);var n=r(2),i=r(0),o=r.n(i),s=r(57),a=r.n(s),l=(r(147),r(14)),c=r(213),u=r(3),h=r(56),p=r(6),d=r(7),y=r(17),f=r(16),g=r(53),S=r.n(g),m=r(67),b=r(41),v=r(20),O=r(126),j=r(10),k=r(23),x=function(t){Object(y.a)(r,t);var e=Object(f.a)(r);function r(){var t;Object(p.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).onClickPlayProject=function(){fe(oe.openProjectOrGame,{data:{data:function(){t.props.history.push(Yt.play)}}})},t.onClickEditProject=function(){fe(oe.openProjectOrGame,{data:{data:function(){t.props.history.push(Yt.edit)}}})},t.onClickNew=function(){fe(oe.newProject,{data:t.props.history}),t.props.history.push(Yt.edit)},t}return Object(d.a)(r,[{key:"render",value:function(){var t=Object(j.o)(this.props.theme.theme);return Object(n.jsxs)("div",{style:{alignContent:"center",display:"flex",flexDirection:"column",height:"90vh",justifyContent:"center"},children:[Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsx)(O.a,{onClick:this.onClickPlayProject,styles:t,children:this.props.strings.WelcomeButtonOpenPlay})}),Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsx)(O.a,{onClick:this.onClickEditProject,styles:t,children:this.props.strings.WelcomeButtonOpenEdit})}),Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsx)(O.a,{onClick:this.onClickNew,styles:t,children:this.props.strings.WelcomeButtonNew})})]})}}]),r}(i.Component),w=Object(l.b)((function(t){return{strings:Object(k.a)(t.settings.locale),theme:t.settings.theme}}))(Object(v.f)(x)),C=r(25),P=r(118),I=function(t){Object(y.a)(r,t);var e=Object(f.a)(r);function r(){var t;Object(p.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).runStory=function(){var e=document.getElementById(C.a).value;t.props.saveAndRunStory(e)},t.updateStory=function(e){t.props.story!==e.currentTarget.value&&t.props.setStory(e.currentTarget.value)},t}return Object(d.a)(r,[{key:"componentDidUpdate",value:function(t){if(this.props.story!==t.story){var e=document.getElementById(C.a);e&&(e.value=this.props.story)}}},{key:"componentWillUnmount",value:function(){var t=document.getElementById(C.a).value;this.props.story!==t&&this.props.setStory(t)}},{key:"render",value:function(){var t=this.props;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("textarea",{defaultValue:this.props.story,style:Object(j.f)(this.props.theme.theme),id:C.a,onBlur:this.updateStory}),Object(n.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:Object(n.jsx)(P.a,{styles:{root:{display:"block"}},text:t.strings.EditorPlay,onClick:this.runStory})})]})}}]),r}(i.Component),L=Object(l.b)((function(t){return{story:t.viewEdit.story,strings:Object(k.a)(t.settings.locale),theme:t.settings.theme}}),(function(t){return{saveAndRunStory:Object(b.b)(t),setStory:Object(b.c)(t)}}))(I),T=r(119),D=function t(){Object(p.a)(this,t),this.condition=void 0,this.text=void 0,this.parent=void 0,this.children=void 0,this.condition="",this.text="",this.parent=null,this.children=[]},F=/\/\//g,A=/\bif\b/g,E=/\bendif\b/g;function M(t,e){var r=t.substring(0,e).lastIndexOf("\n");-1===r&&(r=0);var n=t.substring(e).indexOf("\n");return-1===n&&(n=t.length-1),n+=e,t.substring(r,n).includes("@")}function R(t,e){var r=t.substring(0,e),n=r.lastIndexOf("{");return!(n<r.lastIndexOf("}")||-1===n)}var N=function(t){Object(y.a)(r,t);var e=Object(f.a)(r);function r(){var t;Object(p.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).interpreterRef=null,t.setInterpreterRef=function(e){null!==e&&(t.interpreterRef=e,t.parse())},t}return Object(d.a)(r,[{key:"componentDidUpdate",value:function(){this.parse()}},{key:"render",value:function(){return Object(n.jsx)(T.a,{ref:this.setInterpreterRef})}},{key:"parse",value:function(){if(null!==this.interpreterRef)try{var t;!function(t,e,r){var n={},i={},o=[],s=t.split("\n");0===s.length&&(null===e||void 0===e||e.setEntries({}),null===e||void 0===e||e.setErrorMessage("Parser: Story is blank. The story must not be blank to parse it."));for(var a=0;a<s.length;a++)s[a]=s[a].replace("\r","").trim(),s[a].startsWith("@")&&o.push(a);var l="";if(o.length>0){for(var c=0;c<o[0];c++)l+=s[c]+"\n";null===e||void 0===e||e.processHeaderOptions(l)}for(var u=0;u<o.length;u++)if(s[o[u]].length<2)null===e||void 0===e||e.setErrorMessage("Parser: Entry"+s[o[u]]+"must be at least 1 character long.");else{var h=s[o[u]].substring(1),p=[],d="";p=u===o.length-1?s.slice(o[u],s.length):s.slice(o[u],o[u+1]);for(var y=1;y<p.length;y++)d+=p[y]+"\n";void 0!==n[h=h.replace(/\s+/g,"").toLowerCase()]?null===e||void 0===e||e.setErrorMessage("Parser: Entry called '".concat(h,"' already exists.")):n[h]=d}for(var f=Object.keys(n),g=0;g<f.length;g++){var S=void 0,m=n[f[g]];do{S=!0;for(var b=null;null!==(b=F.exec(m));){var v=b.index;if(!R(m,v)&&!M(m,v)){m=m.slice(v,m.substring(v).indexOf("\n")),S=!1;break}}}while(!S);n[f[g]]=m}for(var O=0;O<f.length;O++){for(var j=new D,k=j,x=0,w=n[f[O]],C=[],P=[],I=null,L=[],T=[];null!==(I=A.exec(w));)C.push(I);for(;null!==(I=E.exec(w));)P.push(I);for(var N=0;N<C.length;N++)R(w,C[N].index)||M(w,C[N].index)||L.push(C[N].index);for(var z=0;z<P.length;z++)R(w,P[z].index)||M(w,P[z].index)||T.push(P[z].index);L.length!==T.length&&(null===e||void 0===e||e.setErrorMessage("Parser: found ".concat(L.length," if tokens, but ").concat(T.length," ")+"endif tokens. Ifs and endifs must match in number."));for(var B=[],H=0;H<L.length;H++)B.push({item1:L[H],item2:0});for(var W=0;W<T.length;W++)B.push({item1:T[W],item2:1});B=B.sort((function(t,e){return t.item1>e.item1?1:-1}));for(var U=0;U<B.length;U++){var G=B[U].item1,q=B[U].item2,_=w.substring(G);_=_.slice(0,_.indexOf("\n"));for(var Q=-1,K="",V=U-1;V>=0;V--)if(0===B[V].item2){Q=B[V].item1,K=(K=w.substring(Q)).slice(0,K.indexOf("\n"));break}for(var J=-1,$="",X=U-1;X>=0;X--)if(1===B[X].item2){J=B[X].item1,$=($=w.substring(J)).slice(0,$.indexOf("\n"));break}var Y=J>Q?J:Q,Z=Y===J?$:K;if(0===q){if(0!==U&&-1!==Q){var tt=new D;tt.parent=k;var et=Y+Z.length;if(G-et<0){null===e||void 0===e||e.setErrorMessage("Parser: In '".concat(w.substring(Y),"', cannot specify multiple if tokens on one line."));continue}tt.text+=w.substring(et,G),0===tt.children.length&&""===tt.condition.trim()&&""===tt.text.trim()||k.children.push(tt)}else if(G>0){var rt=new D;rt.parent=k,rt.text+=w.substring(0,G),0===rt.children.length&&""===rt.condition.trim()&&""===rt.text.trim()||k.children.push(rt)}var nt=new D;nt.parent=k,nt.condition=_,0===nt.children.length&&""===nt.condition.trim()&&""===nt.text.trim()||k.children.push(nt),k=nt,x++}else if(1===q){if(x<0)return null===e||void 0===e||e.setEntries({}),void(null===e||void 0===e||e.setErrorMessage("Parser: an extra endif token was encountered (if/endif # "+(U+1)+")."));var it=new D;it.parent=k;var ot=Y+Z.length;if(G-ot<0){null===e||void 0===e||e.setErrorMessage("Parser: In '"+w.substring(Y)+"', cannot specify multiple endif tokens on one line.");continue}if(it.text+=w.substring(ot,G),0===it.children.length&&""===it.condition.trim()&&""===it.text.trim()||k.children.push(it),null===k.parent)return null===e||void 0===e||e.setEntries({}),void(null===e||void 0===e||e.setErrorMessage("Parser: an extra endif token was encountered (endif #"+U+")."));k=k.parent}}if(B.length>0){var st=B[B.length-1].item1,at=w.substring(st).indexOf("\n");if(-1!==at){var lt=new D;lt.parent=j,lt.text+=w.substring(st+at),0===lt.children.length&&""===lt.condition.trim()&&""===lt.text.trim()||j.children.push(lt)}}else j.text+=w;i[f[O]]=j}null===e||void 0===e||e.setEntriesWithFork(i,null!==r&&void 0!==r?r:"")}(null!==(t=this.props.storyToParseOverride)&&void 0!==t?t:this.props.storyToParse,this.interpreterRef)}catch(e){"string"===typeof e?this.interpreterRef.setErrorMessage(e):e instanceof Error&&this.interpreterRef.setErrorMessage(e.message)}}}]),r}(i.Component),z=Object(l.b)((function(t){return{renderTrigger:t.viewEdit.storyReparseToken,storyToParse:t.viewEdit.storyToParse}}))(N),B=function(t){Object(y.a)(r,t);var e=Object(f.a)(r);function r(){return Object(p.a)(this,r),e.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:j.l,children:[Object(n.jsx)("div",{id:C.b,className:j.j,children:Object(n.jsx)(L,{})}),Object(n.jsx)("div",{id:C.k,style:Object(j.k)(this.props.theme.theme),children:Object(n.jsx)(z,{})})]})})}}]),r}(i.Component),H=Object(l.b)((function(t){return{theme:t.settings.theme}}))(B),W=r(43),U=r(122),G=r(26),q=r(29),_=r(13),Q={setLocale:Object(_.a)(),setTheme:Object(_.a)()},K=function(t){return{localeId:t,type:Q.setLocale}},V={setCustomizationApplied:Object(_.a)(),setFromLocalStorage:Object(_.a)(),setUserConsentProvided:Object(_.a)()},J=function(t){return function(){var e=Object(m.a)(S.a.mark((function e(r){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({theme:r,type:Q.setTheme});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$=function(t){return function(){var e=Object(m.a)(S.a.mark((function e(r){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(K(r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},X=Object(G.c)({locale:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(k.b)(),e=arguments.length>1?arguments[1]:void 0;if(e.type===Q.setLocale){var r=e;return r.localeId}if(e.type===V.setFromLocalStorage){var n,i,o=e;if(null!==(n=null===o||void 0===o||null===(i=o.persistentState)||void 0===i?void 0:i.locale)&&void 0!==n&&n){for(var s=Object.keys(k.c),a=0;a<s.length;a++){var l=k.c[s[a]];if(o.persistentState.locale===l)return o.persistentState.locale}return t}}return t},theme:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q.c[q.b.Default],e=arguments.length>1?arguments[1]:void 0;if(e.type===Q.setTheme){var r=e;if(t.theme!==r.theme.theme)return document.body.style.backgroundColor=r.theme.theme.semanticColors.bodyBackground,Object(u.B)(r.theme.theme),r.theme}else if(e.type===V.setFromLocalStorage){var n,i,o=e;if(null!==(n=null===o||void 0===o||null===(i=o.persistentState)||void 0===i?void 0:i.theme)&&void 0!==n&&n)try{var s=o.persistentState.theme;if("number"===typeof o.persistentState.theme){var a=q.c[s];if(a)return document.body.style.backgroundColor=a.theme.semanticColors.bodyBackground,Object(u.B)(a.theme),a}}catch(l){}}return t}}),Y=r(79),Z=r(61),tt=r(8),et=r(128),rt=r(123),nt=function(t){Object(y.a)(r,t);var e=Object(f.a)(r);function r(){return Object(p.a)(this,r),e.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){var t=this.props.dropdown,e=t.styles,r=Object(et.a)(t,["styles"]),i=e;return Object(n.jsx)(rt.a,Object(tt.a)(Object(tt.a)({},r),{},{dropdownWidth:"auto",styles:Object(j.c)(this.props.theme.theme,i)}))}}]),r}(i.Component),it=Object(l.b)((function(t){return{theme:t.settings.theme}}))(nt);function ot(t){return"userSettingsLocaleOptions".concat(t)}function st(t){return"userSettingsThemeOptions".concat(t)}var at=function(t){Object(y.a)(r,t);var e=Object(f.a)(r);function r(){return Object(p.a)(this,r),e.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){var t,e,r=this.props,i=[{ariaLabel:(e=r).strings.TipTheme,key:"userSettingsCommandBarChosenTheme",onRender:function(){var t=[];return Object.keys(q.c).forEach((function(e){var r=q.c[e];t.push({data:r,key:st(r.localizedName),text:r.localizedName})})),Object(n.jsx)(it,{dropdown:{defaultSelectedKey:st(e.themeName),onRenderTitle:function(){return Object(n.jsx)("span",{style:{fontSize:"".concat(e.wholeTheme.fonts.large)},children:e.strings.ThemeDropdownText(e.themeName)})},options:t,onChange:function(t,r){if(void 0!==r){var n=r.data;e.setTheme(n)}},styles:Object(j.b)(e.wholeTheme)}})},buttonStyles:Object(j.a)()},{ariaLabel:e.strings.TipLanguage,key:"userSettingsCommandBarChosenLocale",onRender:function(){var t=[];return Object.keys(Z.a).forEach((function(e){t.push({data:e,key:ot(e),text:Z.a[e].LanguageCodeName})})),Object(n.jsx)(it,{dropdown:{defaultSelectedKey:ot(e.locale),onRenderTitle:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Y.a,{iconName:"LocaleLanguage",styles:j.i}),Object(n.jsx)("span",{style:{fontSize:"".concat(e.wholeTheme.fonts.large)},children:Z.a[e.locale].LanguageCodeName})]})},options:t,onChange:function(t,r){if(void 0!==r){var n=r.data;e.setLocale(n)}}}})}}];if(Zt("edit")){var o=function(t){return{items:[{className:Object(j.d)(t.wholeTheme,!0),data:oe.newProject,key:"userSettingsCommandBarFileMenuNew",name:t.strings.MenuFileNew,iconProps:{iconName:"FabricNewFolder"},onClick:function(){return fe(oe.newProject)}},{className:Object(j.d)(t.wholeTheme,!0),data:oe.openProjectOrGame,key:"userSettingsCommandBarFileMenuOpen",name:t.strings.MenuFileOpen,iconProps:{iconName:"OpenFolderHorizontal"},onClick:function(){return fe(oe.openProjectOrGame)}},{className:Object(j.d)(t.wholeTheme),data:oe.saveProjectOrGame,key:"userSettingsCommandBarFileMenuSave",name:t.strings.MenuFileSave,iconProps:{iconName:"Save"},onClick:function(){return fe(oe.saveProjectOrGame)}},{className:Object(j.d)(t.wholeTheme),key:"userSettingsCommandBarPrefMenuSettings",name:t.strings.MenuFileSave,iconOnly:!0,iconProps:{iconName:"Settings"},onClick:function(){t.history.push(Yt.editSettings)},tooltipHostProps:{content:t.strings.MenuPrefEditorSettings}}],farItems:[{ariaLabel:t.strings.MenuFileSwitchToPlay,className:Object(j.d)(t.wholeTheme),data:oe.switchMode,key:"userSettingsCommandBarFileMenuSwitchMode",tooltipHostProps:{content:t.strings.MenuFileSwitchToPlay},iconOnly:!0,iconProps:{iconName:"Switch"},onClick:function(){return fe(oe.switchMode)}}]}}(r);t=o.items,i=[].concat(Object(W.a)(o.farItems),Object(W.a)(i))}else if(Zt("editSettings")){t=function(t){return{items:[{className:Object(j.d)(t.wholeTheme,!0),key:"userSettingsCommandBarMenuBack",name:t.strings.MenuBack,iconProps:{iconName:"Back"},onClick:function(){t.history.push(Yt.edit)}}]}}(r).items,i=[]}else if(Zt("play")){var s=function(t){return{items:[{className:Object(j.d)(t.wholeTheme,!0),data:oe.openProjectOrGame,key:"userSettingsCommandBarFileMenuOpen",name:t.strings.MenuFileOpen,iconProps:{iconName:"OpenFolderHorizontal"},onClick:function(){return fe(oe.openProjectOrGame)}},{className:Object(j.d)(t.wholeTheme),data:oe.saveProjectOrGame,key:"userSettingsCommandBarFileMenuSave",name:t.strings.MenuFileSave,iconProps:{iconName:"Save"},onClick:function(){return fe(oe.saveProjectOrGame)}},{ariaLabel:"Settings",className:Object(j.d)(t.wholeTheme),key:"userSettingsCommandBarPrefMenuSettings",name:t.strings.MenuFileSave,iconOnly:!0,iconProps:{iconName:"Settings"},onClick:function(){t.history.push(Yt.playSettings)},tooltipHostProps:{content:t.strings.MenuPrefRunnerSettings}}],farItems:[{ariaLabel:t.strings.MenuFileSwitchToEdit,className:Object(j.d)(t.wholeTheme),data:oe.switchMode,key:"userSettingsCommandBarFileMenuSwitchMode",tooltipHostProps:{content:t.strings.MenuFileSwitchToEdit},iconOnly:!0,iconProps:{iconName:"Switch"},onClick:function(){return fe(oe.switchMode)}}]}}(r);t=s.items,i=[].concat(Object(W.a)(s.farItems),Object(W.a)(i))}else if(Zt("playSettings")){t=function(t){return{items:[{className:Object(j.d)(t.wholeTheme,!0),key:"userSettingsCommandBarMenuBack",name:t.strings.MenuBack,iconProps:{iconName:"Back"},onClick:function(){t.history.push(Yt.play)}}]}}(r).items,i=[]}else t=[];return Object(n.jsx)(U.a,{ariaLabel:r.strings.TipNavigateCommandBar,items:t,farItems:i,styles:j.e})}}]),r}(i.Component),lt=Object(l.b)((function(t){return{locale:t.settings.locale,reduxState:t,strings:Object(k.a)(t.settings.locale),themeName:t.settings.theme.localizedName,userConsentProvided:t.persistence.userConsentProvided,wholeTheme:Object(u.z)()}}),(function(t){return{setLocale:$(t),setTheme:J(t)}}))(Object(v.f)(at)),ct=r(24),ut=r(212),ht={setPlayerStoryInputStyles:Object(_.a)(),setPlayerStoryLogSeparatorStyles:Object(_.a)(),setPlayerStoryOptionStyles:Object(_.a)(),setPlayerStoryOptionHighlightStyles:Object(_.a)(),setPlayerStoryOutputStyles:Object(_.a)(),setPlayerStoryRunnerOptions:Object(_.a)(),setPlayerStoryRunnerStyles:Object(_.a)()},pt=r(15),dt="WebStory";function yt(t){if(void 0===t)return!1;if((t=t.replaceAll(" ","").toLowerCase()).match(/^\d+(px)?$/g)||t.match(/^((\d+(\.\d+)?)|((\d+|0)\.\d+))(em|rem|%)$/g)){t=t.replaceAll(/em|rem|px|%/g,"");var e=Number(t);if(e&&e>0&&e<=1e3)return!0}return!1}function ft(t){return{colorDark:t.colorDark,colorHighlightDark:t.colorHighlightDark,colorHighlightLight:t.colorHighlightLight,colorLight:t.colorLight,font:t.font,fontSize:yt(t.fontSize)?t.fontSize:void 0,styleBold:t.styleBold,styleItalic:t.styleItalic,styleStrikethrough:t.styleStrikethrough,styleUnderline:t.styleUnderline}}var gt,St,mt=function(t){Object(y.a)(r,t);var e=Object(f.a)(r);function r(){return Object(p.a)(this,r),e.apply(this,arguments)}return Object(d.a)(r,[{key:"componentDidUpdate",value:function(t){var e=this.props;t.userConsentProvided===e.userConsentProvided&&function(t){if(t.userConsentProvided){var e={locale:t.locale,playerStorySettings:t.playerStorySettings,saveFormatVersion:1,theme:t.theme.themeId};localStorage.setItem(dt,JSON.stringify(e))}}(this.props)}},{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{})}}]),r}(o.a.Component),bt=Object(l.b)((function(t){return{locale:t.settings.locale,playerStorySettings:t.playerStorySettings,theme:t.settings.theme,userConsentProvided:t.persistence.userConsentProvided}}))(Object(v.f)(mt)),vt=function(t){return function(e){t(function(t){return{type:ht.setPlayerStoryInputStyles,style:t}}(e))}},Ot=function(t){return function(e){t(function(t){return{type:ht.setPlayerStoryOptionStyles,style:t}}(e))}},jt=function(t){return function(e){t(function(t){return{type:ht.setPlayerStoryOptionHighlightStyles,style:t}}(e))}},kt=function(t){return function(e){t(function(t){return{type:ht.setPlayerStoryOutputStyles,style:t}}(e))}},xt=function(t){return function(e){t(function(t){return{type:ht.setPlayerStoryRunnerOptions,options:t}}(e))}},wt=Object(G.c)({playerStoryInputStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(e.type===ht.setPlayerStoryInputStyles)return e.style;if(e.type===pt.b.type)return{};if(e.type===V.setFromLocalStorage){var r,n=e;if(null===(r=n.persistentState.playerStorySettings)||void 0===r?void 0:r.playerStoryInputStyles)return ft(n.persistentState.playerStorySettings.playerStoryInputStyles)}return t},playerStoryLogSeparatorStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(e.type===ht.setPlayerStoryLogSeparatorStyles)return e.style;if(e.type===pt.b.type)return{};if(e.type===V.setFromLocalStorage){var r,n=e;if(null===(r=n.persistentState.playerStorySettings)||void 0===r?void 0:r.playerStoryLogSeparatorStyles)return n.persistentState.playerStorySettings.playerStoryLogSeparatorStyles}return t},playerStoryOptionStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(e.type===ht.setPlayerStoryOptionStyles)return e.style;if(e.type===pt.b.type)return{};if(e.type===V.setFromLocalStorage){var r,n=e;if(null===(r=n.persistentState.playerStorySettings)||void 0===r?void 0:r.playerStoryOptionStyles)return ft(n.persistentState.playerStorySettings.playerStoryOptionStyles)}return t},playerStoryOptionHighlightStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(e.type===ht.setPlayerStoryOptionHighlightStyles)return e.style;if(e.type===pt.b.type)return{};if(e.type===V.setFromLocalStorage){var r,n=e;if(null===(r=n.persistentState.playerStorySettings)||void 0===r?void 0:r.playerStoryOptionHighlightStyles)return ft(n.persistentState.playerStorySettings.playerStoryOptionHighlightStyles)}return t},playerStoryOutputStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(e.type===ht.setPlayerStoryOutputStyles)return e.style;if(e.type===pt.b.type)return{};if(e.type===V.setFromLocalStorage){var r,n=e;if(null===(r=n.persistentState.playerStorySettings)||void 0===r?void 0:r.playerStoryOutputStyles)return ft(n.persistentState.playerStorySettings.playerStoryOutputStyles)}return t},playerStoryRunnerOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(e.type===ht.setPlayerStoryRunnerOptions)return e.options;if(e.type===pt.b.type)return{};if(e.type===V.setFromLocalStorage){var r,n=e;if(null===(r=n.persistentState.playerStorySettings)||void 0===r?void 0:r.playerStoryRunnerOptions)return n.persistentState.playerStorySettings.playerStoryRunnerOptions}return t},playerStoryRunnerStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{background:{type:"plain"}},e=arguments.length>1?arguments[1]:void 0;if(e.type===ht.setPlayerStoryRunnerStyles)return e.style;if(e.type===pt.b.type)return{background:{type:"plain"}};if(e.type===V.setFromLocalStorage){var r,n=e;if(null===(r=n.persistentState.playerStorySettings)||void 0===r?void 0:r.playerStoryRunnerStyles)return n.persistentState.playerStorySettings.playerStoryRunnerStyles}return t}}),Ct={openColorPicker:Object(_.a)(),closeColorPicker:Object(_.a)()},Pt={type:Ct.closeColorPicker},It=function(t){return function(e,r){t(function(t,e){return{color:t,forStyle:e,type:Ct.openColorPicker}}(e,r))}},Lt=function(t){return function(){t(Pt)}},Tt=Object(G.c)({colorPickerOpenId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;return e.type===Ct.openColorPicker?e:e.type===Ct.closeColorPicker?null:t}}),Dt=r(216),Ft=r(9),At=/px|rem/g,Et="px",Mt="rem",Rt=(gt={},Object(ct.a)(gt,Et,{default:12,max:96,min:4,step:1}),Object(ct.a)(gt,Mt,{default:1.2,max:6,min:.1,step:.1}),gt);!function(t){t[t.Decrement=0]="Decrement",t[t.Increment=1]="Increment",t[t.TextEdited=2]="TextEdited"}(St||(St={}));var Nt,zt=function(t){Object(y.a)(r,t);var e=Object(f.a)(r);function r(){var t;Object(p.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).fontSizeChanged=function(e){return function(r){var n,i=t.props,o=(null===(n=i.chosenStyle.fontSize)||void 0===n?void 0:n.endsWith(Et))?Et:Mt,s=o===Et?Number.parseInt(r,10):Math.round(100*Number.parseFloat(r))/100;""===r||r===i.strings.SettingsControlFontSizeSpinButtonUnset?e!==St.TextEdited?i.chosenDispatchCall(Object(tt.a)(Object(tt.a)({},i.chosenStyle),{},{fontSize:"".concat(Rt[o].default).concat(o)})):i.chosenDispatchCall(Object(tt.a)(Object(tt.a)({},i.chosenStyle),{},{fontSize:void 0})):e!==St.TextEdited?e===St.Increment&&s<Rt[o].max?i.chosenDispatchCall(Object(tt.a)(Object(tt.a)({},i.chosenStyle),{},{fontSize:"".concat(Math.min(s+Rt[o].step,Rt[o].max)).concat(o)})):e===St.Decrement&&s>Rt[o].min&&i.chosenDispatchCall(Object(tt.a)(Object(tt.a)({},i.chosenStyle),{},{fontSize:"".concat(Math.max(s-Rt[o].step,Rt[o].min)).concat(o)})):r===s.toString()&&(s>=Rt[o].min&&s<=Rt[o].max?i.chosenDispatchCall(Object(tt.a)(Object(tt.a)({},i.chosenStyle),{},{fontSize:"".concat(s).concat(o)})):s<Rt[o].min?i.chosenDispatchCall(Object(tt.a)(Object(tt.a)({},i.chosenStyle),{},{fontSize:"".concat(Rt[o].min).concat(o)})):s>Rt[o].max&&i.chosenDispatchCall(Object(tt.a)(Object(tt.a)({},i.chosenStyle),{},{fontSize:"".concat(Rt[o].max).concat(o)})))}},t.fontUnitChanged=function(e,r){if(r){var n=t.props,i=n.chosenStyle.fontSize?r.data===Et?Number.parseInt(n.chosenStyle.fontSize.replaceAll(At,""),10):Math.round(10*Number.parseFloat(n.chosenStyle.fontSize.replaceAll(At,"")))/10:void 0,o=null!==i&&void 0!==i?i:Rt[r.data].default;o=Math.min(Math.max(o,Rt[r.data].min),Rt[r.data].max),n.chosenDispatchCall(Object(tt.a)(Object(tt.a)({},n.chosenStyle),{},{fontSize:"".concat(o).concat(r.data)}))}},t}return Object(d.a)(r,[{key:"render",value:function(){var t,e,r=this.props,i=(null===(t=r.chosenStyle.fontSize)||void 0===t?void 0:t.endsWith(Et))?Et:Mt,o=r.chosenStyle.fontSize?i===Et?Number.parseInt(r.chosenStyle.fontSize.replaceAll(At,""),10):Math.round(10*Number.parseFloat(r.chosenStyle.fontSize.replaceAll(At,"")))/10:void 0;return Object(n.jsxs)("span",{style:{display:"inline-flex",marginLeft:"4px",maxWidth:"14rem"},children:[Object(n.jsx)(Dt.a,{ariaLabel:r.strings.SettingsControlFontSizeSpinButtonAria,decrementButtonAriaLabel:r.strings.SettingsControlFontSizeSpinButtonDecrAria,incrementButtonAriaLabel:r.strings.SettingsControlFontSizeSpinButtonIncrAria,label:r.strings.SettingsControlFontSizeSpinButtonLabel,labelPosition:Ft.a.top,max:Rt[i].max,min:Rt[i].min,onDecrement:this.fontSizeChanged(St.Decrement),onIncrement:this.fontSizeChanged(St.Increment),onValidate:this.fontSizeChanged(St.TextEdited),step:Rt[i].step,styles:{root:{width:"1px"}},value:null!==(e=null===o||void 0===o?void 0:o.toString())&&void 0!==e?e:r.strings.SettingsControlFontSizeSpinButtonUnset}),Object(n.jsx)(rt.a,{"aria-label":r.strings.SettingsControlFontSizeDropdownLabel,dropdownWidth:"auto",onChange:this.fontUnitChanged,options:[{data:Mt,key:"settingsFontSize".concat(Mt,"-").concat(r.forStyle),text:r.strings.SettingsControlFontSizeDropdownRemsLabel,title:r.strings.SettingsControlFontSizeDropdownRemsTitle},{data:Et,key:"settingsFontSize".concat(Et,"-").concat(r.forStyle),text:r.strings.SettingsControlFontSizeDropdownPixelsLabel,title:r.strings.SettingsControlFontSizeDropdownPixelsTitle}],selectedKey:"settingsFontSize".concat(i,"-").concat(r.forStyle),styles:{root:{alignSelf:"flex-end"}}})]})}}]),r}(i.Component),Bt=Object(l.b)((function(t){return{playerStoryInputStyles:t.playerStorySettings.playerStoryInputStyles,playerStoryOptionStyles:t.playerStorySettings.playerStoryOptionStyles,playerStoryOptionHighlightStyles:t.playerStorySettings.playerStoryOptionHighlightStyles,playerStoryOutputStyles:t.playerStorySettings.playerStoryOutputStyles,strings:Object(k.a)(t.settings.locale)}}),(function(t){return{dispatchInputStyles:vt(t),dispatchOptionHighlightStyles:jt(t),dispatchOptionStyles:Ot(t),dispatchOutputStyles:kt(t)}}))(zt),Ht=r(62),Wt=function(t){Object(y.a)(r,t);var e=Object(f.a)(r);function r(){var t;Object(p.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).onChange=function(e){return function(r){t.props.update(Object(tt.a)(Object(tt.a)({},t.props.textStyleObj),{},Object(ct.a)({},e,r.target.value)))}},t.onSwatchClicked=function(e,r){return function(){var n,i,o=t.props;(null===(n=o.colorPickerOpenId)||void 0===n?void 0:n.forStyle)===r&&(null===(i=o.colorPickerOpenId)||void 0===i?void 0:i.color)===e?o.dispatchCloseColorPicker():o.dispatchOpenColorPicker(e,r)}},t}return Object(d.a)(r,[{key:"render",value:function(){var t=this.props;return Object(n.jsxs)("div",{style:{display:"inline-flex",flexDirection:"column"},children:[Object(n.jsxs)("div",{style:{alignItems:"center",display:"flex",flexDirection:"row"},children:[Object(n.jsx)("button",{onClick:this.onSwatchClicked("colorLight",this.props.forStyle),style:{backgroundColor:this.props.textStyleObj.colorLight,border:t.theme.theme.semanticColors.buttonBorder,height:"2rem",margin:t.theme.theme.spacing.s2,width:"2rem"}}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(n.jsx)(Ht.a,{style:{paddingTop:0},children:t.strings.SettingsTextStyleLightColor}),Object(n.jsx)("input",{onChange:this.onChange("colorLight"),placeholder:t.strings.SettingsTextStyleColorUnset,type:"text",value:this.props.textStyleObj.colorLight})]})]}),Object(n.jsxs)("div",{style:{alignItems:"center",display:"flex",flexDirection:"row"},children:[Object(n.jsx)("button",{onClick:this.onSwatchClicked("colorDark",this.props.forStyle),style:{backgroundColor:this.props.textStyleObj.colorDark,border:t.theme.theme.semanticColors.buttonBorder,height:"2rem",margin:t.theme.theme.spacing.s2,width:"2rem"}}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(n.jsx)(Ht.a,{style:{paddingTop:0},children:t.strings.SettingsTextStyleDarkColor}),Object(n.jsx)("input",{onChange:this.onChange("colorDark"),placeholder:t.strings.SettingsTextStyleColorUnset,type:"text",value:this.props.textStyleObj.colorDark})]})]}),Object(n.jsxs)("div",{style:{alignItems:"center",display:"flex",flexDirection:"row"},children:[Object(n.jsx)("button",{onClick:this.onSwatchClicked("colorHighlightLight",this.props.forStyle),style:{backgroundColor:this.props.textStyleObj.colorHighlightLight,border:t.theme.theme.semanticColors.buttonBorder,height:"2rem",margin:t.theme.theme.spacing.s2,width:"2rem"}}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(n.jsx)(Ht.a,{style:{paddingTop:0},children:t.strings.SettingsTextStyleHighlightLightColor}),Object(n.jsx)("input",{onChange:this.onChange("colorHighlightLight"),placeholder:t.strings.SettingsTextStyleColorUnset,type:"text",value:this.props.textStyleObj.colorHighlightLight})]})]}),Object(n.jsxs)("div",{style:{alignItems:"center",display:"flex",flexDirection:"row"},children:[Object(n.jsx)("button",{onClick:this.onSwatchClicked("colorHighlightDark",this.props.forStyle),style:{backgroundColor:this.props.textStyleObj.colorHighlightDark,border:t.theme.theme.semanticColors.buttonBorder,height:"2rem",margin:t.theme.theme.spacing.s2,width:"2rem"}}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(n.jsx)(Ht.a,{style:{paddingTop:0},children:t.strings.SettingsTextStyleHighlightDarkColor}),Object(n.jsx)("input",{onChange:this.onChange("colorHighlightDark"),placeholder:t.strings.SettingsTextStyleColorUnset,type:"text",value:this.props.textStyleObj.colorHighlightDark})]})]})]})}}]),r}(i.Component),Ut=Object(l.b)((function(t){return{colorPickerOpenId:t.runnerSettings.colorPickerOpenId,strings:Object(k.a)(t.settings.locale),theme:t.settings.theme}}),(function(t){return{dispatchCloseColorPicker:Lt(t),dispatchOpenColorPicker:It(t)}}))(Wt),Gt=r(217);!function(t){t[t.Italic=0]="Italic",t[t.Bold=1]="Bold",t[t.Underline=2]="Underline",t[t.Strikethrough=3]="Strikethrough"}(Nt||(Nt={}));var qt=function(t){Object(y.a)(r,t);var e=Object(f.a)(r);function r(){var t;Object(p.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).getValue=function(t){return void 0===t?1:t?2:0},t.formatDisplayText=function(e){var r=t.props;return 0===e?r.strings.SettingsControlFontStyleSliderOff:2===e?r.strings.SettingsControlFontStyleSliderOn:r.strings.SettingsControlFontStyleSliderUnset},t.fontStyleChanged=function(e){return function(r){var n=t.props,i=2===r||1===r&&void 0;n.chosenDispatchCall(Object(tt.a)(Object(tt.a)({},n.chosenStyle),{},{styleBold:e===Nt.Bold?i:n.chosenStyle.styleBold,styleItalic:e===Nt.Italic?i:n.chosenStyle.styleItalic,styleStrikethrough:e===Nt.Strikethrough?i:n.chosenStyle.styleStrikethrough,styleUnderline:e===Nt.Underline?i:n.chosenStyle.styleUnderline}))}},t}return Object(d.a)(r,[{key:"render",value:function(){var t=this.props;return Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:"4rem",width:"9rem"},children:[Object(n.jsx)(Gt.a,{max:2,min:0,label:t.strings.SettingsControlFontStyleItalic,onChange:this.fontStyleChanged(Nt.Italic),styles:{titleLabel:{fontSize:t.theme.theme.fonts.small.fontSize}},value:this.getValue(t.chosenStyle.styleItalic),valueFormat:this.formatDisplayText}),Object(n.jsx)(Gt.a,{max:2,min:0,label:t.strings.SettingsControlFontStyleBold,onChange:this.fontStyleChanged(Nt.Bold),styles:{titleLabel:{fontSize:t.theme.theme.fonts.small.fontSize}},value:this.getValue(t.chosenStyle.styleBold),valueFormat:this.formatDisplayText}),Object(n.jsx)(Gt.a,{max:2,min:0,label:t.strings.SettingsControlFontStyleUnderline,onChange:this.fontStyleChanged(Nt.Underline),styles:{titleLabel:{fontSize:t.theme.theme.fonts.small.fontSize}},value:this.getValue(t.chosenStyle.styleUnderline),valueFormat:this.formatDisplayText}),Object(n.jsx)(Gt.a,{max:2,min:0,label:t.strings.SettingsControlFontStyleStrikethrough,onChange:this.fontStyleChanged(Nt.Strikethrough),styles:{titleLabel:{fontSize:t.theme.theme.fonts.small.fontSize}},value:this.getValue(t.chosenStyle.styleStrikethrough),valueFormat:this.formatDisplayText})]})}}]),r}(i.Component),_t=Object(l.b)((function(t){return{playerStoryInputStyles:t.playerStorySettings.playerStoryInputStyles,playerStoryOptionStyles:t.playerStorySettings.playerStoryOptionStyles,playerStoryOptionHighlightStyles:t.playerStorySettings.playerStoryOptionHighlightStyles,playerStoryOutputStyles:t.playerStorySettings.playerStoryOutputStyles,strings:Object(k.a)(t.settings.locale),theme:t.settings.theme}}),(function(t){return{dispatchInputStyles:vt(t),dispatchOptionHighlightStyles:jt(t),dispatchOptionStyles:Ot(t),dispatchOutputStyles:kt(t)}}))(qt),Qt=function(t){Object(y.a)(r,t);var e=Object(f.a)(r);function r(){var t;Object(p.a)(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).renderColorPicker=function(e,r){var i,o,s,a=t.props,l=a[r];switch(r){case"playerStoryInputStyles":s=a.dispatchInputStyles,o=a.playerStoryInputStyles;break;case"playerStoryOptionStyles":s=a.dispatchOptionStyles,o=a.playerStoryOptionStyles;break;case"playerStoryOptionHighlightStyles":s=a.dispatchOptionHighlightStyles,o=a.playerStoryOptionHighlightStyles;break;case"playerStoryOutputStyles":s=a.dispatchOutputStyles,o=a.playerStoryOutputStyles;break;default:return}return Object(n.jsx)(ut.a,{alphaType:"none",color:null!==(i=l[e])&&void 0!==i?i:"",onChange:function(t,r){s(Object(tt.a)(Object(tt.a)({},o),{},Object(ct.a)({},e,r.str)))},strings:{blue:a.strings.SettingsControlColorPickerBlue,green:a.strings.SettingsControlColorPickerGreen,hex:a.strings.SettingsControlColorPickerHex,hueAriaLabel:a.strings.SettingsControlColorPickerHue,red:a.strings.SettingsControlColorPickerRed,rootAriaLabelFormat:a.strings.SettingsControlColorPickerSelectedColor,svAriaDescription:a.strings.SettingsControlColorPickerSvDescription,svAriaLabel:a.strings.SettingsControlColorPickerSvAria,svAriaValueFormat:a.strings.SettingsControlColorPickerSelectedSv},styles:{table:{color:a.theme.theme.semanticColors.bodyText}}})},t}return Object(d.a)(r,[{key:"componentWillUnmount",value:function(){this.props.dispatchCloseColorPicker()}},{key:"render",value:function(){var t=this.props;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsxs)("div",{style:{marginLeft:"1rem",maxWidth:"50rem",width:"75%"},children:[Object(n.jsx)("h2",{style:{color:t.theme.theme.semanticColors.bodyText},children:t.strings.SettingsTitle}),Object(n.jsx)("p",{style:{color:t.theme.theme.semanticColors.bodyText},children:t.strings.SettingsDescription}),t.colorPickerOpenId&&this.renderColorPicker(t.colorPickerOpenId.color,t.colorPickerOpenId.forStyle),Object(n.jsx)("h4",{style:{color:t.theme.theme.semanticColors.bodyText},children:t.strings.SettingsRunnerOutputStyles}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(Ut,{forStyle:"playerStoryOutputStyles",textStyleObj:t.playerStoryOutputStyles,update:t.dispatchOutputStyles}),Object(n.jsx)(_t,{chosenStyle:t.playerStoryOutputStyles,chosenDispatchCall:t.dispatchOutputStyles})]}),Object(n.jsx)(Bt,{chosenStyle:t.playerStoryOutputStyles,chosenDispatchCall:t.dispatchOutputStyles,forStyle:"playerStoryOutputStyles"})]}),Object(n.jsx)("h4",{style:{color:t.theme.theme.semanticColors.bodyText,marginTop:"4rem"},children:t.strings.SettingsRunnerOptionStyles}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(Ut,{forStyle:"playerStoryOptionStyles",textStyleObj:t.playerStoryOptionStyles,update:t.dispatchOptionStyles}),Object(n.jsx)(_t,{chosenStyle:t.playerStoryOptionStyles,chosenDispatchCall:t.dispatchOptionStyles})]}),Object(n.jsx)(Bt,{chosenStyle:t.playerStoryOptionStyles,chosenDispatchCall:t.dispatchOptionStyles,forStyle:"playerStoryOptionStyles"})]}),Object(n.jsx)("h4",{style:{color:t.theme.theme.semanticColors.bodyText,marginTop:"4rem"},children:t.strings.SettingsRunnerOptionHighlightStyles}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(Ut,{forStyle:"playerStoryOptionHighlightStyles",textStyleObj:t.playerStoryOptionHighlightStyles,update:t.dispatchOptionHighlightStyles}),Object(n.jsx)(_t,{chosenStyle:t.playerStoryOptionHighlightStyles,chosenDispatchCall:t.dispatchOptionHighlightStyles})]}),Object(n.jsx)(Bt,{chosenStyle:t.playerStoryOptionHighlightStyles,chosenDispatchCall:t.dispatchOptionHighlightStyles,forStyle:"playerStoryOptionHighlightStyles"})]}),Object(n.jsx)("h4",{style:{color:t.theme.theme.semanticColors.bodyText,marginTop:"4rem"},children:t.strings.SettingsRunnerInputStyles}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(Ut,{forStyle:"playerStoryInputStyles",textStyleObj:t.playerStoryInputStyles,update:t.dispatchInputStyles}),Object(n.jsx)(_t,{chosenStyle:t.playerStoryInputStyles,chosenDispatchCall:t.dispatchInputStyles})]}),Object(n.jsx)(Bt,{chosenStyle:t.playerStoryInputStyles,chosenDispatchCall:t.dispatchInputStyles,forStyle:"playerStoryInputStyles"})]})]}),Object(n.jsxs)("div",{style:{flexGrow:1,marginLeft:"1rem"},children:[Object(n.jsx)("h2",{style:{color:t.theme.theme.semanticColors.bodyText},children:t.strings.SettingsLivePreview}),Object(n.jsx)(z,{storyToParseOverride:t.strings.SettingsLivePreviewStory})]})]})})}}]),r}(i.Component),Kt=Object(l.b)((function(t){return{colorPickerOpenId:t.runnerSettings.colorPickerOpenId,playerStoryInputStyles:t.playerStorySettings.playerStoryInputStyles,playerStoryOptionStyles:t.playerStorySettings.playerStoryOptionStyles,playerStoryOptionHighlightStyles:t.playerStorySettings.playerStoryOptionHighlightStyles,playerStoryOutputStyles:t.playerStorySettings.playerStoryOutputStyles,playerStoryRunnerOptions:t.playerStorySettings.playerStoryRunnerOptions,strings:Object(k.a)(t.settings.locale),theme:t.settings.theme}}),(function(t){return{dispatchCloseColorPicker:Lt(t),dispatchInputStyles:vt(t),dispatchOpenColorPicker:It(t),dispatchOptionHighlightStyles:jt(t),dispatchOptionStyles:Ot(t),dispatchOutputStyles:kt(t),dispatchRunnerOptions:xt(t)}}))(Qt),Vt=function(t){Object(y.a)(r,t);var e=Object(f.a)(r);function r(){return Object(p.a)(this,r),e.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return Object(n.jsx)("p",{children:"Editor Settings"})}}]),r}(i.Component),Jt=Object(l.b)((function(t){return{}}))(Vt),$t=function(t){return function(e){t({persistentState:e,type:V.setFromLocalStorage})}},Xt=Object(G.c)({customizationApplied:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;return e.type===V.setCustomizationApplied?e.isApplied:t},userConsentProvided:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0;return e.type===V.setUserConsentProvided?e.consentProvided:t}}),Yt={base:"/",play:"/play",playSettings:"/play/settings",edit:"/edit",editSettings:"/edit/settings"};function Zt(t){return Yt[t]===window.location.hash.replace(/\?.*/g,"").substring(1).toLowerCase()}function te(){return window.location.hash.substring(1).toLowerCase().startsWith(Yt.play)}function ee(){return window.location.hash.substring(1).toLowerCase().startsWith(Yt.edit)}var re,ne=function(t){Object(y.a)(r,t);var e=Object(f.a)(r);function r(){return Object(p.a)(this,r),e.apply(this,arguments)}return Object(d.a)(r,[{key:"componentDidMount",value:function(){var t=this.props;t.userConsentProvided&&function(t){var e=localStorage.getItem(dt);if(null!==e)try{t(JSON.parse(e))}catch(r){return}}(t.setFromLocalStorage)}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(le,{}),Object(n.jsx)(bt,{}),Object(n.jsx)(Se,{}),Object(n.jsx)(lt,{}),Object(n.jsxs)(v.c,{children:[Object(n.jsx)(v.a,{path:Yt.base,exact:!0,component:w}),Object(n.jsx)(v.a,{path:Yt.edit,exact:!0,component:H}),Object(n.jsx)(v.a,{path:Yt.editSettings,component:Jt}),Object(n.jsx)(v.a,{path:Yt.play,exact:!0,component:z}),Object(n.jsx)(v.a,{path:Yt.playSettings,component:Kt})]})]})}}]),r}(i.Component),ie=Object(l.b)((function(t){return{locale:t.settings.locale,strings:Object(k.a)(t.settings.locale),themeName:t.settings.theme.localizedName,userConsentProvided:t.persistence.userConsentProvided,wholeTheme:Object(u.z)()}}),(function(t){return{setFromLocalStorage:$t(t)}}))(ne);var oe,se=i.createRef(),ae=function(t){Object(y.a)(r,t);var e=Object(f.a)(r);function r(){return Object(p.a)(this,r),e.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){var t=this,e=function(){var e=Object(m.a)(S.a.mark((function e(r){var n,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=r.target.files)&&((i=new FileReader).onloadend=function(){var e=i.result;te()?t.props.saveAndRunStory(e):t.props.setStory(e),r.target.value="",re&&(re(),re=void 0)},i.onabort=function(){re=void 0},n[0]instanceof Blob&&i.readAsText(n[0]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("input",{className:j.h,onChange:e,ref:se,type:"file"})}}]),r}(i.Component),le=Object(l.b)(null,(function(t){return{reRenderStory:Object(b.a)(t),saveAndRunStory:Object(b.b)(t),setStory:Object(b.c)(t)}}))(ae),ce=r(121),ue=r(83),he=r(82),pe=Object(G.c)({persistence:Xt,settings:X,viewEdit:b.d,authorStorySettings:ue.a,currentRunnerSettings:he.a,playerStorySettings:wt,runnerSettings:Tt}),de=Object(G.d)(pe,void 0,Object(G.a)(ce.a));!function(t){t.newProject="newProject",t.openProjectOrGame="openProjectOrGame",t.saveProjectOrGame="saveProjectOrGame",t.switchMode="switchMode"}(oe||(oe={}));var ye={newProject:{functionsToInvoke:[],guid:oe.newProject,shortcuts:[{originalSequence:[{key:"N",usesShift:!0}]}]},openProjectOrGame:{functionsToInvoke:[],guid:oe.openProjectOrGame,shortcuts:[{originalSequence:[{key:"O",usesShift:!0}]}]},saveProjectOrGame:{functionsToInvoke:[],guid:oe.saveProjectOrGame,shortcuts:[{originalSequence:[{key:"S",usesShift:!0}]}]},switchMode:{functionsToInvoke:[],guid:oe.switchMode,shortcuts:[{originalSequence:[{key:"Q",usesShift:!0}]}]}},fe=function(t,e){var r,n;!0!==ye[t].enableWhileTyping&&("textarea"===(null===(r=document.activeElement)||void 0===r?void 0:r.nodeName.toLowerCase())||"input"===(null===(n=document.activeElement)||void 0===n?void 0:n.nodeName.toLowerCase())&&"text"===document.activeElement.getAttribute("type"))||ye[t].functionsToInvoke.forEach((function(t){return t(e)}))},ge=function(t){Object(y.a)(r,t);var e=Object(f.a)(r);function r(){var t;Object(p.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).actionSwitchMode=function(){te()?t.props.history.push(Yt.edit):ee()&&t.props.history.push(Yt.play)},t}return Object(d.a)(r,[{key:"actionNewProject",value:function(){ee()&&de.dispatch(pt.b)}},{key:"actionOpenProjectOrGame",value:function(t){var e,r;!function(t){var e;re=t,null===(e=se.current)||void 0===e||e.click()}(null!==(e=null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.callback)&&void 0!==e?e:void 0)}},{key:"actionSaveProjectOrGame",value:function(){te()?alert("Invoked file -> save game."):ee()&&alert("Invoked file -> save project.")}},{key:"componentDidMount",value:function(){ye.newProject.functionsToInvoke=[this.actionNewProject],ye.openProjectOrGame.functionsToInvoke=[this.actionOpenProjectOrGame],ye.saveProjectOrGame.functionsToInvoke=[this.actionSaveProjectOrGame],ye.switchMode.functionsToInvoke=[this.actionSwitchMode]}},{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{})}}]),r}(i.Component),Se=Object(l.b)((function(t){return{}}),(function(t){return{}}))(Object(v.f)(ge));Object(c.a)(),function(){var t=Object.keys(ye),e={};t.forEach((function(t){e[t]=ye[t].shortcuts.map((function(t){return{shortcut:t,step:0}}))})),window.addEventListener("keypress",(function(r){t.forEach((function(t){for(var n=e[t],i=0;i<n.length;i++){var o=n[i];if(!0!==o.shortcut.disabled){var s=void 0!==o.shortcut.customSequence?o.shortcut.customSequence:o.shortcut.originalSequence;if(0!==s.length)if(s[o.step].key!==r.key.toUpperCase()||Boolean(s[o.step].usesAlt)!==r.altKey||Boolean(s[o.step].usesCtrl)!==r.ctrlKey||Boolean(s[o.step].usesShift)!==r.shiftKey)o.step=0;else{if(o.step===s.length-1)return fe(t),void(o.step=0);o.step++}}}}))}))}(),Object(u.B)(q.c[q.b.Default].theme),document.body.style.backgroundColor=q.c[q.b.Default].theme.semanticColors.bodyBackground,a.a.render(Object(n.jsx)(l.a,{store:de,children:Object(n.jsx)(h.a,{children:Object(n.jsx)(ie,{})})}),document.getElementById("root"))},22:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(6),i=r(7),o=function(){function t(e){Object(n.a)(this,t),this.strForm=void 0,this.value=void 0,this.strForm=e.toString(),this.value=e}return Object(i.a)(t,[{key:"equals",value:function(t){return this.strForm===t.strForm&&this.value===t.value}}]),t}()},23:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return s})),r.d(e,"c",(function(){return a}));var n=r(109),i=r(61),o=function(){var t="en-us";if(void 0!==navigator.languages){var e,r=Object(n.a)(navigator.languages);try{for(r.s();!(e=r.n()).done;){var i=e.value.toLowerCase().split("-"),o=i[0],s=i.length>1?i[1]:"";if("".concat(o,"-").concat(s)in a){t="".concat(o,"-").concat(s);break}if("".concat(o)in a){t="".concat(o);break}}}catch(c){r.e(c)}finally{r.f()}}else{var l=navigator.language.toLowerCase();l in a&&(t=l)}return a[t]},s=function(t){return i.a[a[t||o()]]},a={en:"en-us","en-us":"en-us"}},25:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"e",(function(){return s})),r.d(e,"f",(function(){return a})),r.d(e,"i",(function(){return l})),r.d(e,"h",(function(){return c})),r.d(e,"k",(function(){return u})),r.d(e,"d",(function(){return h})),r.d(e,"g",(function(){return p})),r.d(e,"j",(function(){return d}));var n="editor-inputfield",i="editor-wrapper",o="runner-content",s="runner-inputfield",a="runner-log",l="runner-options",c="runner-option-restart",u="runner-wrapper",h="runner-input",p="runner-option",d="runner-output"},29:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return u}));var n,i,o,s=r(24),a=r(23),l=r(3);!function(t){t[t.Light=0]="Light",t[t.Dark=1]="Dark"}(i||(i={})),function(t){t[t.Default=0]="Default",t[t.EarthAndSky=1]="EarthAndSky",t[t.ContrastLight=2]="ContrastLight",t[t.Muted=3]="Muted",t[t.Slate=4]="Slate",t[t.DeepSea=5]="DeepSea",t[t.Midnight=6]="Midnight",t[t.ContrastDark=7]="ContrastDark",t[t.Dim=8]="Dim"}(o||(o={}));var c=Object(a.a)(),u=(n={},Object(s.a)(n,o.ContrastDark,{localizedName:c.ThemeContrastDark,themeId:o.ContrastDark,themeType:i.Dark,theme:Object(l.q)({palette:{themePrimary:"#ffea00",themeLighterAlt:"#0a0900",themeLighter:"#292500",themeLight:"#4d4600",themeTertiary:"#998c00",themeSecondary:"#e0ce00",themeDarkAlt:"#ffec19",themeDark:"#ffef3d",themeDarker:"#fff370",neutralLighterAlt:"#0b0b0b",neutralLighter:"#151515",neutralLight:"#252525",neutralQuaternaryAlt:"#2f2f2f",neutralQuaternary:"#373737",neutralTertiaryAlt:"#595959",neutralTertiary:"#c8c8c8",neutralSecondary:"#d0d0d0",neutralPrimaryAlt:"#dadada",neutralPrimary:"#ffffff",neutralDark:"#f4f4f4",black:"#f8f8f8",white:"#000000"}})}),Object(s.a)(n,o.ContrastLight,{localizedName:c.ThemeContrastLight,themeId:o.ContrastLight,themeType:i.Light,theme:Object(l.q)({palette:{themePrimary:"#000080",themeLighterAlt:"#f0f0fa",themeLighter:"#c5c5eb",themeLight:"#9898d9",themeTertiary:"#4747b3",themeSecondary:"#11118f",themeDarkAlt:"#000073",themeDark:"#000061",themeDarker:"#000047",neutralLighterAlt:"#f8f8f8",neutralLighter:"#f4f4f4",neutralLight:"#eaeaea",neutralQuaternaryAlt:"#dadada",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c8c8",neutralTertiary:"#595754",neutralSecondary:"#373534",neutralPrimaryAlt:"#2f2d2c",neutralPrimary:"#000000",neutralDark:"#151413",black:"#0b0b0a",white:"#ffffff"}})}),Object(s.a)(n,o.DeepSea,{localizedName:c.ThemeDeepSea,themeId:o.DeepSea,themeType:i.Dark,theme:Object(l.q)({palette:{themePrimary:"#e8a63c",themeLighterAlt:"#090702",themeLighter:"#251b0a",themeLight:"#463212",themeTertiary:"#8b6424",themeSecondary:"#cc9235",themeDarkAlt:"#eaaf4e",themeDark:"#eeba68",themeDarker:"#f2cc8e",neutralLighterAlt:"#02132b",neutralLighter:"#041833",neutralLight:"#092141",neutralQuaternaryAlt:"#0e274a",neutralQuaternary:"#122c51",neutralTertiaryAlt:"#27456f",neutralTertiary:"#e8f6f6",neutralSecondary:"#ebf8f7",neutralPrimaryAlt:"#eff9f9",neutralPrimary:"#dcf2f1",neutralDark:"#f7fcfc",black:"#fbfdfd",white:"#000e21"}})}),Object(s.a)(n,o.Default,{localizedName:c.ThemeDefault,themeId:o.Default,themeType:i.Light,theme:Object(l.q)({palette:{themePrimary:"#5f609e",themeLighterAlt:"#f7f7fb",themeLighter:"#e0e0ef",themeLight:"#c7c7e2",themeTertiary:"#9696c5",themeSecondary:"#6e6faa",themeDarkAlt:"#55568e",themeDark:"#484978",themeDarker:"#353659",neutralLighterAlt:"#e4e4e4",neutralLighter:"#e1e1e1",neutralLight:"#d7d7d7",neutralQuaternaryAlt:"#c9c9c9",neutralQuaternary:"#bfbfbf",neutralTertiaryAlt:"#b8b8b8",neutralTertiary:"#595959",neutralSecondary:"#373737",neutralPrimaryAlt:"#2f2f2f",neutralPrimary:"#000000",neutralDark:"#151515",black:"#0b0b0b",white:"#ebebeb"}})}),Object(s.a)(n,o.Dim,{localizedName:c.ThemeDim,themeId:o.Dim,themeType:i.Dark,theme:Object(l.q)({palette:{themePrimary:"#784600",themeLighterAlt:"#050300",themeLighter:"#130b00",themeLight:"#241500",themeTertiary:"#482a00",themeSecondary:"#693e00",themeDarkAlt:"#85530d",themeDark:"#986825",themeDarker:"#b3894f",neutralLighterAlt:"#000b01",neutralLighter:"#021502",neutralLight:"#052506",neutralQuaternaryAlt:"#092f0a",neutralQuaternary:"#0c370d",neutralTertiaryAlt:"#1f5921",neutralTertiary:"#222222",neutralSecondary:"#454443",neutralPrimaryAlt:"#656463",neutralPrimary:"#737270",neutralDark:"#949392",black:"#b0afae",white:"#000000"}})}),Object(s.a)(n,o.EarthAndSky,{localizedName:c.ThemeEarthAndSky,themeId:o.EarthAndSky,themeType:i.Light,theme:Object(l.q)({palette:{themePrimary:"#8f4700",themeLighterAlt:"#fbf6f0",themeLighter:"#eddac7",themeLight:"#ddbc9b",themeTertiary:"#bc834b",themeSecondary:"#9c5813",themeDarkAlt:"#814000",themeDark:"#6d3600",themeDarker:"#502800",neutralLighterAlt:"#e9f6f8",neutralLighter:"#e5f2f4",neutralLight:"#dce8ea",neutralQuaternaryAlt:"#cdd8da",neutralQuaternary:"#c4cfd0",neutralTertiaryAlt:"#bcc7c8",neutralTertiary:"#a19f9d",neutralSecondary:"#605e5c",neutralPrimaryAlt:"#3b3a39",neutralPrimary:"#323130",neutralDark:"#201f1e",black:"#000000",white:"#f0fdff"}})}),Object(s.a)(n,o.Midnight,{localizedName:c.ThemeMidnight,themeId:o.Midnight,themeType:i.Dark,theme:Object(l.q)({palette:{themePrimary:"#d1ad7d",themeLighterAlt:"#080705",themeLighter:"#211c14",themeLight:"#3f3426",themeTertiary:"#7d684b",themeSecondary:"#b8986e",themeDarkAlt:"#d6b489",themeDark:"#dcbf99",themeDarker:"#e5cfb2",neutralLighterAlt:"#0b0b0b",neutralLighter:"#151515",neutralLight:"#252525",neutralQuaternaryAlt:"#2f2f2f",neutralQuaternary:"#373737",neutralTertiaryAlt:"#595959",neutralTertiary:"#e0e0e0",neutralSecondary:"#e5e5e5",neutralPrimaryAlt:"#eaeaea",neutralPrimary:"#d1d1d1",neutralDark:"#f4f4f4",black:"#f9f9f9",white:"#000000"}})}),Object(s.a)(n,o.Muted,{localizedName:c.ThemeMuted,themeId:o.Muted,themeType:i.Light,theme:Object(l.q)({palette:{themePrimary:"#23295c",themeLighterAlt:"#f2f3f8",themeLighter:"#ced0e5",themeLight:"#a8acce",themeTertiary:"#63689d",themeSecondary:"#33396f",themeDarkAlt:"#1f2553",themeDark:"#1b1f46",themeDarker:"#141733",neutralLighterAlt:"#bdbdbb",neutralLighter:"#bfc0be",neutralLight:"#c4c4c2",neutralQuaternaryAlt:"#c6c7c5",neutralQuaternary:"#c9c9c7",neutralTertiaryAlt:"#d2d2d1",neutralTertiary:"#595959",neutralSecondary:"#373737",neutralPrimaryAlt:"#2f2f2f",neutralPrimary:"#000000",neutralDark:"#151515",black:"#0b0b0b",white:"#babab8"}})}),Object(s.a)(n,o.Slate,{localizedName:c.ThemeSlate,themeId:o.Slate,themeType:i.Dark,theme:Object(l.q)({palette:{themePrimary:"#9798bd",themeLighterAlt:"#060608",themeLighter:"#18181e",themeLight:"#2d2e39",themeTertiary:"#5b5b71",themeSecondary:"#8586a6",themeDarkAlt:"#a0a1c3",themeDark:"#aeafcd",themeDarker:"#c1c2da",neutralLighterAlt:"#303736",neutralLighter:"#373f3e",neutralLight:"#434c4b",neutralQuaternaryAlt:"#4b5453",neutralQuaternary:"#515b5a",neutralTertiaryAlt:"#6c7775",neutralTertiary:"#dfdfdf",neutralSecondary:"#e4e4e4",neutralPrimaryAlt:"#e9e9e9",neutralPrimary:"#cfcfcf",neutralDark:"#f4f4f4",black:"#f9f9f9",white:"#272e2d"}})}),n)},35:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(6),i=r(7),o=function(){function t(e,r){Object(n.a)(this,t),this.strForm=void 0,this.value=void 0,this.strForm=e,this.value=r}return Object(i.a)(t,[{key:"equals",value:function(t){return this.strForm===t.strForm&&this.value===t.value}}]),t}()},37:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(6),i=r(7),o=function(){function t(e,r,i){Object(n.a)(this,t),this.strForm=void 0,this.numArgs=void 0,this.function=void 0,this.strForm=e,this.numArgs=r,this.function=i}return Object(i.a)(t,[{key:"equals",value:function(t){return this.strForm===t.strForm&&this.numArgs===t.numArgs&&this.function===t.function}}]),t}()},41:function(t,e,r){"use strict";r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return a})),r.d(e,"d",(function(){return l}));var n=r(26),i=r(15),o=function(t){return function(e){t(Object(i.e)(e))}},s=function(t){return function(e){t(Object(i.d)(e))}},a=function(t){return function(){t(i.c)}},l=Object(n.c)({story:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return e.type===i.a.updateStory||e.type===i.a.saveAndRunStory?e.story:e.type===i.a.newStory?"":t},storyReparseToken:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return e.type===i.a.saveAndRunStory?t+1:t},storyRerenderToken:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return e.type===i.a.rerenderStory?t+1:t},storyToParse:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return e.type===i.a.saveAndRunStory?e.story:e.type===i.a.newStory?"":t}})},44:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return a}));var n,i=r(24),o=r(29),s=r(10);!function(t){t[t.input=0]="input",t[t.option=1]="option",t[t.optionHighlight=2]="optionHighlight",t[t.output=3]="output"}(n||(n={}));var a=function(t,e,r,a,l){var c=function(t){var e;return e={},Object(i.a)(e,n.input,{color:t.theme.semanticColors.errorText,fontFamily:s.g,fontSize:"1.2 rem",fontStyle:"normal",fontWeight:"normal",textDecoration:"inherit"}),Object(i.a)(e,n.option,{color:t.theme.palette.blue,fontFamily:s.g,fontSize:"1.2 rem",fontStyle:"normal",fontWeight:"normal",textDecoration:"underline"}),Object(i.a)(e,n.optionHighlight,{color:t.theme.palette.blueDark,fontFamily:s.g,fontSize:"1.2 rem",fontStyle:"normal",fontWeight:"normal",textDecoration:"underline"}),Object(i.a)(e,n.output,{color:t.theme.semanticColors.bodyText,fontFamily:s.g,fontSize:"1.2 rem",fontStyle:"normal",fontWeight:"normal",textDecoration:"inherit"}),e}(t)[l],u=t.themeType===o.a.Light?e.colorLight||r.colorLight||a.colorLight||c.color:e.colorDark||r.colorDark||a.colorDark||c.color,h=t.themeType===o.a.Light?e.colorHighlightLight||r.colorHighlightLight||a.colorHighlightLight||"transparent":e.colorHighlightDark||r.colorHighlightDark||a.colorHighlightDark||"transparent",p=e.font||r.font||a.font||c.fontFamily,d=e.fontSize||r.fontSize||a.fontSize||c.fontSize,y="normal",f="normal",g="inherit";return e.styleItalic?y=e.styleItalic?"italic":c.fontStyle:r.styleItalic?y=r.styleItalic?"italic":c.fontStyle:a.styleItalic&&(y=a.styleItalic?"italic":c.fontStyle),e.styleBold?f=e.styleBold?"bold":c.fontWeight:r.styleBold?f=r.styleBold?"bold":c.fontWeight:a.styleBold&&(f=a.styleBold?"bold":c.fontWeight),e.styleUnderline?g=e.styleUnderline?"underline":c.textDecoration:r.styleUnderline?g=r.styleUnderline?"underline":c.textDecoration:a.styleUnderline&&(g=a.styleUnderline?"underline":c.textDecoration),{backgroundColor:h,color:u,fontFamily:p,fontSize:d,fontStyle:y,fontWeight:f,textDecoration:g,whiteSpace:"pre-wrap"}}},47:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=/^-?(\d+\.?\d*|\d*\.?\d+)$/g},5:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r(6),i=r(7),o=r(47),s=function(){function t(e){if(Object(n.a)(this,t),this.strForm=void 0,this.value=void 0,"string"===typeof e){if(this.strForm=e,!o.a.test(e))throw new Error("Parser: The expression '"+e+"' is not a valid number.");this.value=parseFloat(e)}else this.strForm=e.toString(),this.value=e}return Object(i.a)(t,[{key:"equals",value:function(t){return this.strForm===t.strForm&&this.value===t.value}}]),t}()},61:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n={"en-us":{ApplicationName:"Web Story",ApplicationNameAndVersion:function(t,e){return"".concat(t," version ").concat(e)},EditorPlay:"Play",LanguageCodeName:"English (United States)",MenuBack:"Back",MenuFile:"File",MenuPrefEditorSettings:"Settings and preferences for the game",MenuFileNew:"New",MenuFileOpen:"Open",MenuPrefRunnerSettings:"Settings and preferences for your experience",MenuFileSave:"Save",MenuFileSwitchToEdit:"Switch to edit mode",MenuFileSwitchToPlay:"Switch to play mode",RunnerRestart:"Restart",SettingsControlColorPickerBlue:"blue",SettingsControlColorPickerGreen:"green",SettingsControlColorPickerHex:"hex",SettingsControlColorPickerHue:"hue",SettingsControlColorPickerRed:"red",SettingsControlColorPickerSelectedColor:"Color picker, {0} selected.",SettingsControlColorPickerSelectedSv:"Saturation {0} brightness {1}",SettingsControlColorPickerSvAria:"saturation and brightness",SettingsControlColorPickerSvDescription:"Use left and right arrow keys to set saturation. Use up and down arrow keys to set brightness.",SettingsControlFontSizeSpinButtonAria:"Adjust font size",SettingsControlFontSizeSpinButtonDecrAria:"decrease font size by 1",SettingsControlFontSizeSpinButtonIncrAria:"increase font size by 1",SettingsControlFontSizeSpinButtonLabel:"font size",SettingsControlFontSizeSpinButtonUnset:"unset",SettingsControlFontSizeDropdownLabel:"font size unit",SettingsControlFontSizeDropdownRemsLabel:"rems",SettingsControlFontSizeDropdownRemsTitle:"rems are a 'relative' measurement that takes screen density into account. Use this one normally.",SettingsControlFontSizeDropdownPixelsLabel:"pixels",SettingsControlFontSizeDropdownPixelsTitle:"Pixels (px) is an 'absolute' measurement that doesn't take screen density into account, so a font may display at different sizes on different devices.",SettingsControlFontStyleSliderOff:"always off",SettingsControlFontStyleSliderOn:"always on",SettingsControlFontStyleSliderUnset:"unset",SettingsControlFontStyleBold:"bold",SettingsControlFontStyleItalic:"italic",SettingsControlFontStyleStrikethrough:"strikethrough",SettingsControlFontStyleUnderline:"underline",SettingsDescription:"The values you set here will override the styles set by authors for their own games. Use this to customize your playing experience. Values set are reflected in the demo on the right-hand side.",SettingsLivePreview:"Live Preview",SettingsLivePreviewStory:"@1\n{normal text\n}{italic text\n*}{bold text\n**}{bold italic text\n***}\noption @2\n@2\n{normal text}\nback @1",SettingsRunnerInputStyles:"Override text styles of logs",SettingsRunnerOptionStyles:"Override text styles of options",SettingsRunnerOptionHighlightStyles:"Override text styles of options the mouse hovers over",SettingsRunnerOutputStyles:"Override preferences for text the game prints out",SettingsTextStyleColorUnset:"unset",SettingsTextStyleDarkColor:"Dark theme color",SettingsTextStyleHighlightDarkColor:"Highlight dark theme color",SettingsTextStyleHighlightLightColor:"Highlight light theme color",SettingsTextStyleLightColor:"Light theme color",SettingsTitle:"Text Style Overrides",ThemeContrastDark:"\ud83c\udf11 Contrast Dark",ThemeContrastLight:"\u2600\ufe0f Contrast Light",ThemeDefault:"\u2600\ufe0f Default",ThemeDeepSea:"\ud83c\udf11 Deep Sea",ThemeDim:"\ud83c\udf11 Dim",ThemeEarthAndSky:"\u2600\ufe0f Earth and Sky",ThemeMidnight:"\ud83c\udf11 Midnight",ThemeMuted:"\u2600\ufe0f Muted",ThemeSlate:"\ud83c\udf11 Slate",ThemeDropdownText:function(t){return"".concat(t," theme")},TipLanguage:"Language",TipNavigateCommandBar:"Use left and right arrow keys to navigate between commands.",TipTheme:"Theme",WelcomeButtonOpenPlay:"Open & Play",WelcomeButtonOpenEdit:"Open & Edit",WelcomeButtonNew:"New"}}},82:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return l}));var n=r(26),i=r(13),o={clearAllTempSettings:Object(i.a)(),setCurrentRunnerOptions:Object(i.a)()},s=r(15),a=function(t){return function(e){t(function(t){return{type:o.setCurrentRunnerOptions,options:t}}(e))}},l=Object(n.c)({currentRunnerOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setCurrentRunnerOptions?e.options:e.type===o.clearAllTempSettings||e.type===s.b.type?{}:t}})},83:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return l}));var n=r(26),i=r(13),o={setAuthorStoryInputStyles:Object(i.a)(),setAuthorStoryLogSeparatorStyles:Object(i.a)(),setAuthorStoryOptionStyles:Object(i.a)(),setAuthorStoryOptionHighlightStyles:Object(i.a)(),setAuthorStoryOutputStyles:Object(i.a)(),setAuthorStoryRunnerOptions:Object(i.a)(),setAuthorStoryRunnerStyles:Object(i.a)(),setAuthorStoryStrings:Object(i.a)()},s=r(15),a=function(t){return function(e){t(function(t){return{type:o.setAuthorStoryRunnerStyles,style:t}}(e))}},l=Object(n.c)({authorStoryInputStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryInputStyles?e.style:e.type===s.b.type?{}:t},authorStoryLogSeparatorStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryLogSeparatorStyles?e.style:e.type===s.b.type?{}:t},authorStoryOptionStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryOptionStyles?e.style:e.type===s.b.type?{}:t},authorStoryOptionHighlightStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryOptionHighlightStyles?e.style:e.type===s.b.type?{}:t},authorStoryOutputStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryOutputStyles?e.style:e.type===s.b.type?{}:t},authorStoryRunnerOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryRunnerOptions?e.options:e.type===s.b.type?{}:t},authorStoryRunnerStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{background:{type:"plain"}},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryRunnerStyles?e.style:e.type===s.b.type?{background:{type:"plain"}}:t},authorStoryStrings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryStrings?e.strings:e.type===s.b.type?{}:t}})}},[[154,1,2]]]);
//# sourceMappingURL=main.e1849040.chunk.js.map